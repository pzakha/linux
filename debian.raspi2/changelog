linux-raspi2 (4.15.0-1003.3) bionic; urgency=medium

  * Miscellaneous Ubuntu changes
    - [Config] ALTERA_MSGDMA=m
    - [Config] ARM64_PMEM=y
    - [Config] ARM_SPE_PMU=m
    - [Config] ATH10K_USB=m
    - [Config] AUFS_DIRREN=y
    - [Config] BATTERY_MAX1721X=m
    - [Config] BPF_JIT_ALWAYS_ON=y
    - [Config] BPF_STREAM_PARSER=y
    - [Config] CCS811=m
    - [Config] CRAMFS_MTD=y
    - [Config] CRYPTO_SM3=m
    - [Config] DLN2_ADC=m
    - [Config] DP83822_PHY=m
    - [Config] SLAB_FREELIST_HARDENED=y
    - [Config] MFD_BD9571MWV=m
    - [Config] DRM_DW_HDMI_CEC=m
    - [Config] DRM_PANEL_ORISETECH_OTM8009A=m
    - [Config] DRM_PANEL_RASPBERRYPI_TOUCHSCREEN=m
    - [Config] DRM_PANEL_SAMSUNG_S6E63J0X03=m
    - [Config] DRM_PANEL_SEIKO_43WVF1G=m
    - [Config] DRM_SII9234=m
    - [Config] DRM_TVE200=m
    - [Config] DS4424=m
    - [Config] EXTCON_USBC_CROS_EC=m
    - [Config] FPGA_MGR_ALTERA_PS_SPI=m
    - [Config] GPIO_MAX3191X=m
    - [Config] GPIO_MB86S7X=m
    - [Config] IIO_CROS_EC_ACCEL_LEGACY=m
    - [Config] INPUT_PWM_VIBRA=m
    - [Config] INPUT_RK805_PWRKEY=m
    - [Config] IR_GPIO_TX=m
    - [Config] IR_PWM_TX=m
    - [Config] LEDS_AS3645A=m
    - [Config] LEDS_TRIGGER_ACTIVITY=m
    - [Config] LTC2471=m
    - [Config] MANAGER_SBS=m
    - [Config] MLXFW=m
    - [Config] MLXSW_CORE=m
    - [Config] MTD_SHARPSL_PARTS=m
    - [Config] NET_SCH_CBS=m
    - [Config] NFT_FIB_NETDEV=m
    - [Config] PINCTRL_RK805=m
    - [Config] RENESAS_PHY=m
    - [Config] RFD77402=m
    - [Config] RMNET=m
    - [Config] ROCKCHIP_PHY=m
    - [Config] RPI_AXIPERF=m
    - [Config] RPMSG_VIRTIO=m
    - [Config] RTC_DRV_PCF85363=m
    - [Config] SENSORS_IBM_CFFPS=m
    - [Config] SENSORS_MAX31785=m
    - [Config] SENSORS_MAX6621=m
    - [Config] SENSORS_TPS53679=m
    - [Config] SERIAL_8250_MEN_MCB=m
    - [Config] SERIO_GPIO_PS2=m
    - [Config] SND_SOC_AMD_CZ_RT5645_MACH=m
    - [Config] SND_SOC_CS43130=m
    - [Config] SND_SOC_WM8524=m
    - [Config] TINYDRM_REPAPER=m
    - [Config] TINYDRM_ST7586=m
    - [Config] TI_DAC082S085=m
    - [Config] TOUCHSCREEN_EXC3000=m
    - [Config] TOUCHSCREEN_HIDEEP=m
    - [Config] TOUCHSCREEN_S6SY761=m
    - [Config] TYPEC_TPS6598X=m
    - [Config] W1_SLAVE_DS2805=m
    - [Config] W1_SLAVE_DS28E17=m

 -- Paolo Pisati <paolo.pisati@canonical.com>  Thu, 08 Mar 2018 12:25:15 +0000

linux-raspi2 (4.15.0-1002.2) bionic; urgency=medium

  * Import rpi patches from https://github.com/raspberrypi/linux rpi-4.15.y
    up to commit 938a71bd53e1ff3bd3ad7bd257ec701584c8d78e

  * Initial raspi2 packaging and configs for bionic

 -- Paolo Pisati <paolo.pisati@canonical.com>  Mon, 05 Mar 2018 15:52:17 +0000

linux-raspi2 (4.15.0-1001.1) bionic; urgency=medium

  * Dummy entry

 -- Paolo Pisati <paolo.pisati@canonical.com>  Mon, 05 Mar 2018 15:52:17 +0000

linux-raspi2 (4.13.0-1008.8) artful; urgency=low

  * linux-raspi2: 4.13.0-1008.8 -proposed tracker (LP: #1736125)

  [ Ubuntu: 4.13.0-19.22 ]

  * linux: 4.13.0-19.22 -proposed tracker (LP: #1736118)
  * CVE-2017-1000405
    - mm, thp: Do not make page table dirty unconditionally in touch_p[mu]d()

 -- Stefan Bader <stefan.bader@canonical.com>  Mon, 04 Dec 2017 14:06:40 +0100

linux-raspi2 (4.13.0-1007.7) artful; urgency=low

  * linux-raspi2: 4.13.0-1007.7 -proposed tracker (LP: #1733536)

  * Dropped "staging: bcm2835-audio: Fix memory corruption" from the
    raspi2 tree in favour of the upstream change with the same name
    but slightly different content (LP: #1731951).

  [ Ubuntu: 4.13.0-18.21 ]

  * linux: 4.13.0-18.21 -proposed tracker (LP: #1733530)
  * NVMe timeout is too short (LP: #1729119)
    - nvme: update timeout module parameter type
  * CPU call trace on AMD Raven Ridge after S3 (LP: #1732894)
    - x86/mce/AMD: Allow any CPU to initialize the smca_banks array
  * Set PANIC_TIMEOUT=10 on Power Systems (LP: #1730660)
    - [Config]: Set PANIC_TIMEOUT=10 on ppc64el
  * Cannot pair BLE remote devices when using combo BT SoC (LP: #1731467)
    - Bluetooth: increase timeout for le auto connections
  * enable CONFIG_SND_SOC_INTEL_BYT_CHT_NOCODEC_MACH easily confuse users
    (LP: #1732627)
    - [Config] CONFIG_SND_SOC_INTEL_BYT_CHT_NOCODEC_MACH=n
  * Plantronics P610 does not support sample rate reading (LP: #1719853)
    - ALSA: usb-audio: Add sample rate quirk for Plantronics P610
  * Allow drivers to use Relaxed Ordering on capable root ports (LP: #1721365)
    - Revert commit 1a8b6d76dc5b ("net:add one common config...")
    - net: ixgbe: Use new PCI_DEV_FLAGS_NO_RELAXED_ORDERING flag
  * support GICv3 ITS save/restore & migration (LP: #1710019)
    - KVM: arm/arm64: vgic-its: Fix return value for device table restore
  * Device hotplugging with MPT SAS cannot work for VMWare ESXi (LP: #1730852)
    - scsi: mptsas: Fixup device hotplug for VMWare ESXi
  * Artful update to 4.13.13 stable release (LP: #1732726)
    - netfilter: nat: Revert "netfilter: nat: convert nat bysrc hash to
      rhashtable"
    - netfilter: nft_set_hash: disable fast_ops for 2-len keys
    - workqueue: Fix NULL pointer dereference
    - crypto: ccm - preserve the IV buffer
    - crypto: x86/sha1-mb - fix panic due to unaligned access
    - crypto: x86/sha256-mb - fix panic due to unaligned access
    - KEYS: fix NULL pointer dereference during ASN.1 parsing [ver #2]
    - ACPI / PM: Blacklist Low Power S0 Idle _DSM for Dell XPS13 9360
    - ARM: 8720/1: ensure dump_instr() checks addr_limit
    - ALSA: timer: Limit max instances per timer
    - ALSA: usb-audio: support new Amanero Combo384 firmware version
    - ALSA: hda - fix headset mic problem for Dell machines with alc274
    - ALSA: seq: Fix OSS sysex delivery in OSS emulation
    - ALSA: seq: Avoid invalid lockdep class warning
    - MIPS: Fix CM region target definitions
    - MIPS: BMIPS: Fix missing cbr address
    - MIPS: AR7: Defer registration of GPIO
    - MIPS: AR7: Ensure that serial ports are properly set up
    - KVM: PPC: Book3S HV: Fix exclusion between HPT resizing and other HPT
      updates
    - Input: elan_i2c - add ELAN060C to the ACPI table
    - rbd: use GFP_NOIO for parent stat and data requests
    - drm/vmwgfx: Fix Ubuntu 17.10 Wayland black screen issue
    - Revert "x86: CPU: Fix up "cpu MHz" in /proc/cpuinfo"
    - can: sun4i: handle overrun in RX FIFO
    - can: peak: Add support for new PCIe/M2 CAN FD interfaces
    - can: ifi: Fix transmitter delay calculation
    - can: c_can: don't indicate triple sampling support for D_CAN
    - x86/debug: Handle warnings before the notifier chain, to fix KGDB crash
    - x86/smpboot: Make optimization of delay calibration work correctly
    - x86/oprofile/ppro: Do not use __this_cpu*() in preemptible context
    - Linux 4.13.13
  * ELANTECH Touchpad is not detected in 'Lenovo Ideapad 320 14AST' after fresh
    install (LP: #1727544)
    - Input: elan_i2c - add ELAN060C to the ACPI table
  * Power8 Nest PMU Instrumentation support (LP: #1481347)
    - powerpc/powernv: Add IMC OPAL APIs
    - powerpc/powernv: Detect and create IMC device
    - powerpc/perf: Add nest IMC PMU support
    - powerpc/perf: Add core IMC PMU support
    - powerpc/perf: Add thread IMC PMU support
    - powerpc/perf: Fix double unlock in imc_common_cpuhp_mem_free()
    - powerpc/perf/imc: Fix nest events on muti socket system
    - powerpc/powernv: Fix build error in opal-imc.c when NUMA=n
    - powerpc/perf: Fix usage of nest_imc_refc
    - powerpc/perf: Fix for core/nest imc call trace on cpuhotplug
    - powerpc/perf: Add ___GFP_NOWARN flag to alloc_pages_node()
    - powerpc/perf: Fix IMC initialization crash
  * Artful update to 4.13.12 stable release (LP: #1731971)
    - ALSA: timer: Add missing mutex lock for compat ioctls
    - ALSA: seq: Fix nested rwsem annotation for lockdep splat
    - cifs: check MaxPathNameComponentLength != 0 before using it
    - KEYS: return full count in keyring_read() if buffer is too small
    - KEYS: trusted: fix writing past end of buffer in trusted_read()
    - KEYS: fix out-of-bounds read during ASN.1 parsing
    - ASoC: adau17x1: Workaround for noise bug in ADC
    - virtio_blk: Fix an SG_IO regression
    - arm64: ensure __dump_instr() checks addr_limit
    - KVM: arm64: its: Fix missing dynamic allocation check in scan_its_table
    - arm/arm64: KVM: set right LR register value for 32 bit guest when inject
      abort
    - arm/arm64: kvm: Disable branch profiling in HYP code
    - ARM: dts: mvebu: pl310-cache disable double-linefill
    - ARM: 8715/1: add a private asm/unaligned.h
    - drm/amdgpu: return -ENOENT from uvd 6.0 early init for harvesting
    - drm/amdgpu: allow harvesting check for Polaris VCE
    - userfaultfd: hugetlbfs: prevent UFFDIO_COPY to fill beyond the end of i_size
    - ocfs2: fstrim: Fix start offset of first cluster group during fstrim
    - fs/hugetlbfs/inode.c: fix hwpoison reserve accounting
    - mm, swap: fix race between swap count continuation operations
    - drm/i915: Do not rely on wm preservation for ILK watermarks
    - drm/i915/edp: read edp display control registers unconditionally
    - Revert "powerpc64/elfv1: Only dereference function descriptor for non-text
      symbols"
    - MIPS: bpf: Fix a typo in build_one_insn()
    - MIPS: smp-cmp: Use right include for task_struct
    - MIPS: microMIPS: Fix incorrect mask in insn_table_MM
    - MIPS: SMP: Fix deadlock & online race
    - Revert "x86: do not use cpufreq_quick_get() for /proc/cpuinfo "cpu MHz""
    - x86: CPU: Fix up "cpu MHz" in /proc/cpuinfo
    - powerpc/kprobes: Dereference function pointers only if the address does not
      belong to kernel text
    - futex: Fix more put_pi_state() vs. exit_pi_state_list() races
    - perf/cgroup: Fix perf cgroup hierarchy support
    - x86/mcelog: Get rid of RCU remnants
    - irqchip/irq-mvebu-gicp: Add missing spin_lock init
    - Linux 4.13.12
  * Artful update to 4.13.11 stable release (LP: #1731961)
    - workqueue: replace pool->manager_arb mutex with a flag
    - nvme-fc: fix iowait hang
    - ALSA: hda/realtek - Add support for ALC236/ALC3204
    - ALSA: hda - fix headset mic problem for Dell machines with alc236
    - ceph: unlock dangling spinlock in try_flush_caps()
    - Fix tracing sample code warning.
    - KVM: PPC: Fix oops when checking KVM_CAP_PPC_HTM
    - KVM: PPC: Book3S HV: POWER9 more doorbell fixes
    - KVM: PPC: Book3S: Protect kvmppc_gpa_to_ua() with SRCU
    - s390/kvm: fix detection of guest machine checks
    - nbd: handle interrupted sendmsg with a sndtimeo set
    - spi: uapi: spidev: add missing ioctl header
    - spi: a3700: Return correct value on timeout detection
    - spi: bcm-qspi: Fix use after free in bcm_qspi_probe() in error path
    - spi: armada-3700: Fix failing commands with quad-SPI
    - ovl: add NULL check in ovl_alloc_inode
    - ovl: fix EIO from lookup of non-indexed upper
    - ovl: handle ENOENT on index lookup
    - ovl: do not cleanup unsupported index entries
    - fuse: fix READDIRPLUS skipping an entry
    - xen/gntdev: avoid out of bounds access in case of partial gntdev_mmap()
    - xen: fix booting ballooned down hvm guest
    - cifs: Select all required crypto modules
    - CIFS: Fix NULL pointer deref on SMB2_tcon() failure
    - Input: elan_i2c - add ELAN0611 to the ACPI table
    - Input: gtco - fix potential out-of-bound access
    - Fix encryption labels and lengths for SMB3.1.1
    - SMB3: Validate negotiate request must always be signed
    - assoc_array: Fix a buggy node-splitting case
    - scsi: zfcp: fix erp_action use-before-initialize in REC action trace
    - scsi: aacraid: Fix controller initialization failure
    - scsi: qla2xxx: Initialize Work element before requesting IRQs
    - scsi: sg: Re-fix off by one in sg_fill_request_table()
    - x86/cpu/AMD: Apply the Erratum 688 fix when the BIOS doesn't
    - drm/amd/powerplay: fix uninitialized variable
    - drm/i915/perf: fix perf enable/disable ioctls with 32bits userspace
    - can: sun4i: fix loopback mode
    - can: kvaser_usb: Correct return value in printout
    - can: kvaser_usb: Ignore CMD_FLUSH_QUEUE_REPLY messages
    - cfg80211: fix connect/disconnect edge cases
    - ipsec: Fix aborted xfrm policy dump crash
    - regulator: fan53555: fix I2C device ids
    - powerpc/xive: Fix the size of the cpumask used in xive_find_target_in_mask()
    - Linux 4.13.11
  * Touchpad not detected - Lenovo ideapad 320-15IKB (LP: #1723736)
    - Input: elan_i2c - add ELAN0611 to the ACPI table
  * Artful update to 4.13.10 stable release (LP: #1731951)
    - staging: bcm2835-audio: Fix memory corruption
    - USB: devio: Revert "USB: devio: Don't corrupt user memory"
    - USB: core: fix out-of-bounds access bug in usb_get_bos_descriptor()
    - USB: serial: metro-usb: add MS7820 device id
    - usb: cdc_acm: Add quirk for Elatec TWN3
    - usb: quirks: add quirk for WORLDE MINI MIDI keyboard
    - usb: hub: Allow reset retry for USB2 devices on connect bounce
    - ALSA: usb-audio: Add native DSD support for Pro-Ject Pre Box S2 Digital
    - can: gs_usb: fix busy loop if no more TX context is available
    - scsi: qla2xxx: Fix uninitialized work element
    - nbd: don't set the device size until we're connected
    - s390/cputime: fix guest/irq/softirq times after CPU hotplug
    - parisc: Fix double-word compare and exchange in LWS code on 32-bit kernels
    - parisc: Fix detection of nonsynchronous cr16 cycle counters
    - iio: dummy: events: Add missing break
    - usb: musb: sunxi: Explicitly release USB PHY on exit
    - USB: musb: fix session-bit runtime-PM quirk
    - USB: musb: fix late external abort on suspend
    - usb: musb: musb_cppi41: Fix the address of teardown and autoreq registers
    - usb: musb: musb_cppi41: Fix cppi41_set_dma_mode() for DA8xx
    - usb: musb: musb_cppi41: Configure the number of channels for DA8xx
    - usb: musb: Check for host-mode using is_host_active() on reset interrupt
    - xhci: Identify USB 3.1 capable hosts by their port protocol capability
    - xhci: Cleanup current_cmd in xhci_cleanup_command_queue()
    - usb: xhci: Reset halted endpoint if trb is noop
    - usb: xhci: Handle error condition in xhci_stop_device()
    - can: esd_usb2: Fix can_dlc value for received RTR, frames
    - can: af_can: can_pernet_init(): add missing error handling for kzalloc
      returning NULL
    - can: flexcan: fix state transition regression
    - can: flexcan: rename legacy error state quirk
    - can: flexcan: implement error passive state quirk
    - can: flexcan: fix i.MX6 state transition issue
    - can: flexcan: fix i.MX28 state transition issue
    - can: flexcan: fix p1010 state transition issue
    - KEYS: encrypted: fix dereference of NULL user_key_payload
    - mmc: sdhci-pci: Fix default d3_retune for Intel host controllers
    - drm/i915: Use bdw_ddi_translations_fdi for Broadwell
    - drm/nouveau/kms/nv50: fix oops during DP IRQ handling on non-MST boards
    - drm/nouveau/bsp/g92: disable by default
    - drm/nouveau/mmu: flush tlbs before deleting page tables
    - media: s5p-cec: add NACK detection support
    - media: cec: Respond to unregistered initiators, when applicable
    - media: dvb: i2c transfers over usb cannot be done from stack
    - tracing/samples: Fix creation and deletion of simple_thread_fn creation
    - ALSA: seq: Enable 'use' locking in all configurations
    - ALSA: hda: Remove superfluous '-' added by printk conversion
    - ALSA: hda: Abort capability probe at invalid register read
    - i2c: ismt: Separate I2C block read from SMBus block read
    - i2c: piix4: Fix SMBus port selection for AMD Family 17h chips
    - Revert "tools/power turbostat: stop migrating, unless '-m'"
    - Input: stmfts - fix setting ABS_MT_POSITION_* maximum size
    - brcmfmac: Add check for short event packets
    - brcmsmac: make some local variables 'static const' to reduce stack size
    - ARM: dts: sun6i: Fix endpoint IDs in second display pipeline
    - bus: mbus: fix window size calculation for 4GB windows
    - clockevents/drivers/cs5535: Improve resilience to spurious interrupts
    - rtlwifi: rtl8821ae: Fix connection lost problem
    - x86/microcode/intel: Disable late loading on model 79
    - lib/digsig: fix dereference of NULL user_key_payload
    - fscrypt: fix dereference of NULL user_key_payload
    - ecryptfs: fix dereference of NULL user_key_payload
    - KEYS: Fix race between updating and finding a negative key
    - FS-Cache: fix dereference of NULL user_key_payload
    - KEYS: don't let add_key() update an uninstantiated key
    - pkcs7: Prevent NULL pointer dereference, since sinfo is not always set.
    - arm64: dts: rockchip: correct vqmmc voltage for rk3399 platforms
    - ALSA: hda - Fix incorrect TLV callback check introduced during set_fs()
      removal
    - iomap_dio_rw: Allocate AIO completion queue before submitting dio
    - xfs: don't unconditionally clear the reflink flag on zero-block files
    - xfs: evict CoW fork extents when performing finsert/fcollapse
    - fs/xfs: Use %pS printk format for direct addresses
    - xfs: report zeroed or not correctly in xfs_zero_range()
    - xfs: update i_size after unwritten conversion in dio completion
    - xfs: perag initialization should only touch m_ag_max_usable for AG 0
    - xfs: Capture state of the right inode in xfs_iflush_done
    - xfs: always swap the cow forks when swapping extents
    - xfs: handle racy AIO in xfs_reflink_end_cow
    - xfs: Don't log uninitialised fields in inode structures
    - xfs: move more RT specific code under CONFIG_XFS_RT
    - xfs: don't change inode mode if ACL update fails
    - xfs: reinit btree pointer on attr tree inactivation walk
    - xfs: handle error if xfs_btree_get_bufs fails
    - xfs: cancel dirty pages on invalidation
    - xfs: trim writepage mapping to within eof
    - xfs: move two more RT specific functions into CONFIG_XFS_RT
    - Linux 4.13.10
  * Artful update to 4.13.9 stable release (LP: #1731926)
    - perf pmu: Unbreak perf record for arm/arm64 with events with explicit PMU
    - mm: page_vma_mapped: ensure pmd is loaded with READ_ONCE outside of lock
    - HID: hid-elecom: extend to fix descriptor for HUGE trackball
    - Drivers: hv: vmbus: Fix rescind handling issues
    - Drivers: hv: vmbus: Fix bugs in rescind handling
    - vmbus: simplify hv_ringbuffer_read
    - vmbus: refactor hv_signal_on_read
    - vmbus: eliminate duplicate cached index
    - vmbus: more host signalling avoidance
    - Linux 4.13.9

 -- Stefan Bader <stefan.bader@canonical.com>  Wed, 22 Nov 2017 10:25:10 +0100

linux-raspi2 (4.13.0-1006.6) artful; urgency=low

  * linux-raspi2: 4.13.0-1006.6 -proposed tracker (LP: #1730611)

  * Artful update to v4.13.5 stable release (LP: #1721777)
    - [Config] Updating config after rebasing

  [ Ubuntu: 4.13.0-17.20 ]

  * linux: 4.13.0-17.20 -proposed tracker (LP: #1728927)
  * thunderx2 ahci errata workaround needs additional delays (LP: #1724117)
    - SAUCE: ahci: thunderx2: stop engine fix update
  * usb 3-1: 2:1: cannot get freq at ep 0x1 (LP: #1708499)
    - ALSA: usb-audio: Add sample rate quirk for Plantronics C310/C520-M
  * Plantronics Blackwire C520-M - Cannot get freq at ep 0x1, 0x81
    (LP: #1709282)
    - ALSA: usb-audio: Add sample rate quirk for Plantronics C310/C520-M
  * TSC_DEADLINE incorrectly disabled inside virtual guests (LP: #1724912)
    - x86/apic: Silence "FW_BUG TSC_DEADLINE disabled due to Errata" on CPUs
      without the feature
    - x86/apic: Silence "FW_BUG TSC_DEADLINE disabled due to Errata" on
      hypervisors
  * x86/apic: Update TSC_DEADLINE quirk with additional SKX stepping
    (LP: #1724612)
    - x86/apic: Update TSC_DEADLINE quirk with additional SKX stepping
  * [Artful] Add support for Dell/Wyse 3040 audio codec (LP: #1723916)
    - SAUCE: ASoC: rt5670: Add support for Wyse 3040
  * [Artful] Some Dell Monitors Doesn't Work Well with Dell/Wyse 3040
    (LP: #1723915)
    - SAUCE: drm/i915: Workaround for DP DPMS D3 on Dell monitor
  * [Artful] Support headset mode for DELL WYSE (LP: #1723913)
    - SAUCE: ALSA: hda/realtek - Add support headset mode for DELL WYSE
  * Touchpad and TrackPoint Dose Not Work on Lenovo X1C6 and X280 (LP: #1723986)
    - SAUCE: Input: synaptics-rmi4 - RMI4 can also use SMBUS version 3
    - SAUCE: Input: synaptics - Lenovo X1 Carbon 5 should use SMBUS/RMI
    - SAUCE: Input: synaptics - add Intertouch support on X1 Carbon 6th and X280
  * Artful update to v4.13.8 stable release (LP: #1724669)
    - USB: dummy-hcd: Fix deadlock caused by disconnect detection
    - MIPS: math-emu: Remove pr_err() calls from fpu_emu()
    - MIPS: bpf: Fix uninitialised target compiler error
    - mei: always use domain runtime pm callbacks.
    - dmaengine: edma: Align the memcpy acnt array size with the transfer
    - dmaengine: ti-dma-crossbar: Fix possible race condition with dma_inuse
    - NFS: Fix uninitialized rpc_wait_queue
    - nfs/filelayout: fix oops when freeing filelayout segment
    - HID: usbhid: fix out-of-bounds bug
    - crypto: skcipher - Fix crash on zero-length input
    - crypto: shash - Fix zero-length shash ahash digest crash
    - KVM: MMU: always terminate page walks at level 1
    - KVM: nVMX: fix guest CR4 loading when emulating L2 to L1 exit
    - usb: renesas_usbhs: Fix DMAC sequence for receiving zero-length packet
    - pinctrl/amd: Fix build dependency on pinmux code
    - iommu/amd: Finish TLB flush in amd_iommu_unmap()
    - device property: Track owner device of device property
    - Revert "vmalloc: back off when the current task is killed"
    - fs/mpage.c: fix mpage_writepage() for pages with buffers
    - ALSA: usb-audio: Kill stray URB at exiting
    - ALSA: seq: Fix use-after-free at creating a port
    - ALSA: seq: Fix copy_from_user() call inside lock
    - ALSA: caiaq: Fix stray URB at probe error path
    - ALSA: line6: Fix NULL dereference at podhd_disconnect()
    - ALSA: line6: Fix missing initialization before error path
    - ALSA: line6: Fix leftover URB at error-path during probe
    - drm/atomic: Unref duplicated drm_atomic_state in drm_atomic_helper_resume()
    - drm/i915/edp: Get the Panel Power Off timestamp after panel is off
    - drm/i915: Read timings from the correct transcoder in intel_crtc_mode_get()
    - drm/i915/bios: parse DDI ports also for CHV for HDMI DDC pin and DP AUX
      channel
    - drm/i915: Use crtc_state_is_legacy_gamma in intel_color_check
    - usb: gadget: configfs: Fix memory leak of interface directory data
    - usb: gadget: composite: Fix use-after-free in
      usb_composite_overwrite_options
    - PCI: aardvark: Move to struct pci_host_bridge IRQ mapping functions
    - Revert "PCI: tegra: Do not allocate MSI target memory"
    - direct-io: Prevent NULL pointer access in submit_page_section
    - fix unbalanced page refcounting in bio_map_user_iov
    - more bio_map_user_iov() leak fixes
    - bio_copy_user_iov(): don't ignore ->iov_offset
    - perf script: Add missing separator for "-F ip,brstack" (and brstackoff)
    - genirq/cpuhotplug: Enforce affinity setting on startup of managed irqs
    - genirq/cpuhotplug: Add sanity check for effective affinity mask
    - USB: serial: ftdi_sio: add id for Cypress WICED dev board
    - USB: serial: cp210x: fix partnum regression
    - USB: serial: cp210x: add support for ELV TFD500
    - USB: serial: option: add support for TP-Link LTE module
    - USB: serial: qcserial: add Dell DW5818, DW5819
    - USB: serial: console: fix use-after-free on disconnect
    - USB: serial: console: fix use-after-free after failed setup
    - RAS/CEC: Use the right length for "cec_disable"
    - x86/microcode: Do the family check first
    - x86/alternatives: Fix alt_max_short macro to really be a max()
    - KVM: nVMX: update last_nonleaf_level when initializing nested EPT
    - Linux 4.13.8
  * Artful update to v4.13.7 stable release (LP: #1724668)
    - watchdog: Revert "iTCO_wdt: all versions count down twice"
    - Linux 4.13.7
  * libvirt - vnc port selection regression with newer kernels (LP: #1722702)
    - net: set tb->fast_sk_family
    - net: use inet6_rcv_saddr to compare sockets
    - inet: fix improper empty comparison
  * powerpc/64s: Add workaround for P9 vector CI load issue (LP: #1721070)
    - powerpc/mce: Move 64-bit machine check code into mce.c
    - powerpc/64s: Add workaround for P9 vector CI load issue
  * Artful update to v4.13.6 stable release (LP: #1723145)
    - imx-media-of: avoid uninitialized variable warning
    - usb: dwc3: ep0: fix DMA starvation by assigning req->trb on ep0
    - mlxsw: spectrum: Fix EEPROM access in case of SFP/SFP+
    - net: bonding: Fix transmit load balancing in balance-alb mode if specified
      by sysfs
    - openvswitch: Fix an error handling path in 'ovs_nla_init_match_and_action()'
    - mlxsw: spectrum: Prevent mirred-related crash on removal
    - net: bonding: fix tlb_dynamic_lb default value
    - net_sched: gen_estimator: fix scaling error in bytes/packets samples
    - net: sched: fix use-after-free in tcf_action_destroy and tcf_del_walker
    - sctp: potential read out of bounds in sctp_ulpevent_type_enabled()
    - tcp: update skb->skb_mstamp more carefully
    - bpf/verifier: reject BPF_ALU64|BPF_END
    - tcp: fix data delivery rate
    - udpv6: Fix the checksum computation when HW checksum does not apply
    - ip6_gre: skb_push ipv6hdr before packing the header in ip6gre_header
    - net: phy: Fix mask value write on gmii2rgmii converter speed register
    - ip6_tunnel: do not allow loading ip6_tunnel if ipv6 is disabled in cmdline
    - net/sched: cls_matchall: fix crash when used with classful qdisc
    - 8139too: revisit napi_complete_done() usage
    - bpf: do not disable/enable BH in bpf_map_free_id()
    - tcp: fastopen: fix on syn-data transmit failure
    - net: emac: Fix napi poll list corruption
    - net: ipv6: fix regression of no RTM_DELADDR sent after DAD failure
    - packet: hold bind lock when rebinding to fanout hook
    - bpf: one perf event close won't free bpf program attached by another perf
      event
    - net: change skb->mac_header when Generic XDP calls adjust_head
    - isdn/i4l: fetch the ppp_write buffer in one shot
    - net_sched: always reset qdisc backlog in qdisc_reset()
    - net: stmmac: Cocci spatch "of_table"
    - net: qcom/emac: specify the correct size when mapping a DMA buffer
    - vti: fix use after free in vti_tunnel_xmit/vti6_tnl_xmit
    - l2tp: fix race condition in l2tp_tunnel_delete
    - tun: bail out from tun_get_user() if the skb is empty
    - net: dsa: mv88e6xxx: Allow dsa and cpu ports in multiple vlans
    - net: dsa: Fix network device registration order
    - packet: in packet_do_bind, test fanout with bind_lock held
    - packet: only test po->has_vnet_hdr once in packet_snd
    - net: dsa: mv88e6xxx: lock mutex when freeing IRQs
    - net: Set sk_prot_creator when cloning sockets to the right proto
    - net/mlx5e: IPoIB, Fix access to invalid memory address
    - netlink: do not proceed if dump's start() errs
    - ip6_gre: ip6gre_tap device should keep dst
    - ip6_tunnel: update mtu properly for ARPHRD_ETHER tunnel device in tx path
    - IPv4: early demux can return an error code
    - tipc: use only positive error codes in messages
    - l2tp: fix l2tp_eth module loading
    - socket, bpf: fix possible use after free
    - net: rtnetlink: fix info leak in RTM_GETSTATS call
    - bpf: fix bpf_tail_call() x64 JIT
    - usb: gadget: core: fix ->udc_set_speed() logic
    - USB: gadgetfs: Fix crash caused by inadequate synchronization
    - USB: gadgetfs: fix copy_to_user while holding spinlock
    - usb: gadget: udc: atmel: set vbus irqflags explicitly
    - usb: gadget: udc: renesas_usb3: fix for no-data control transfer
    - usb: gadget: udc: renesas_usb3: fix Pn_RAMMAP.Pn_MPKT value
    - usb: gadget: udc: renesas_usb3: Fix return value of usb3_write_pipe()
    - usb-storage: unusual_devs entry to fix write-access regression for Seagate
      external drives
    - usb-storage: fix bogus hardware error messages for ATA pass-thru devices
    - usb: renesas_usbhs: fix the BCLR setting condition for non-DCP pipe
    - usb: renesas_usbhs: fix usbhsf_fifo_clear() for RX direction
    - ALSA: usb-audio: Check out-of-bounds access by corrupted buffer descriptor
    - usb: pci-quirks.c: Corrected timeout values used in handshake
    - USB: cdc-wdm: ignore -EPIPE from GetEncapsulatedResponse
    - USB: dummy-hcd: fix connection failures (wrong speed)
    - USB: dummy-hcd: fix infinite-loop resubmission bug
    - USB: dummy-hcd: Fix erroneous synchronization change
    - USB: devio: Prevent integer overflow in proc_do_submiturb()
    - USB: devio: Don't corrupt user memory
    - USB: g_mass_storage: Fix deadlock when driver is unbound
    - USB: uas: fix bug in handling of alternate settings
    - USB: core: harden cdc_parse_cdc_header
    - usb: Increase quirk delay for USB devices
    - USB: fix out-of-bounds in usb_set_configuration
    - usb: xhci: Free the right ring in xhci_add_endpoint()
    - xhci: fix finding correct bus_state structure for USB 3.1 hosts
    - xhci: fix wrong endpoint ESIT value shown in tracing
    - usb: host: xhci-plat: allow sysdev to inherit from ACPI
    - xhci: Fix sleeping with spin_lock_irq() held in ASmedia 1042A workaround
    - Revert "xhci: Limit USB2 port wake support for AMD Promontory hosts"
    - iio: adc: twl4030: Fix an error handling path in 'twl4030_madc_probe()'
    - iio: adc: twl4030: Disable the vusb3v1 rugulator in the error handling path
      of 'twl4030_madc_probe()'
    - iio: ad_sigma_delta: Implement a dedicated reset function
    - staging: iio: ad7192: Fix - use the dedicated reset function avoiding dma
      from stack.
    - iio: core: Return error for failed read_reg
    - IIO: BME280: Updates to Humidity readings need ctrl_reg write!
    - iio: trigger: stm32-timer: preset shouldn't be buffered
    - iio: trigger: stm32-timer: fix a corner case to write preset
    - iio: ad7793: Fix the serial interface reset
    - iio: adc: stm32: fix bad error check on max_channels
    - iio: adc: mcp320x: Fix readout of negative voltages
    - iio: adc: mcp320x: Fix oops on module unload
    - uwb: properly check kthread_run return value
    - uwb: ensure that endpoint is interrupt
    - staging: vchiq_2835_arm: Fix NULL ptr dereference in free_pagelist
    - ksm: fix unlocked iteration over vmas in cmp_and_merge_page()
    - mm, hugetlb, soft_offline: save compound page order before page migration
    - mm, oom_reaper: skip mm structs with mmu notifiers
    - mm: fix RODATA_TEST failure "rodata_test: test data was not read only"
    - mm: avoid marking swap cached page as lazyfree
    - mm: fix data corruption caused by lazyfree page
    - userfaultfd: non-cooperative: fix fork use after free
    - lib/ratelimit.c: use deferred printk() version
    - lsm: fix smack_inode_removexattr and xattr_getsecurity memleak
    - ALSA: compress: Remove unused variable
    - Revert "ALSA: echoaudio: purge contradictions between dimension matrix
      members and total number of members"
    - ALSA: usx2y: Suppress kernel warning at page allocation failures
    - powerpc/powernv: Increase memory block size to 1GB on radix
    - powerpc: Fix action argument for cpufeatures-based TLB flush
    - powerpc/64s: Use emergency stack for kernel TM Bad Thing program checks
    - powerpc/tm: Fix illegal TM state in signal handler
    - percpu: make this_cpu_generic_read() atomic w.r.t. interrupts
    - intel_th: pci: Add Lewisburg PCH support
    - driver core: platform: Don't read past the end of "driver_override" buffer
    - cgroup: Reinit cgroup_taskset structure before cgroup_migrate_execute()
      returns
    - Drivers: hv: fcopy: restore correct transfer length
    - vmbus: don't acquire the mutex in vmbus_hvsock_device_unregister()
    - stm class: Fix a use-after-free
    - auxdisplay: charlcd: properly restore atomic counter on error path
    - ftrace: Fix kmemleak in unregister_ftrace_graph
    - ovl: fix error value printed in ovl_lookup_index()
    - ovl: fix dput() of ERR_PTR in ovl_cleanup_index()
    - ovl: fix dentry leak in ovl_indexdir_cleanup()
    - ovl: fix missing unlock_rename() in ovl_do_copy_up()
    - ovl: fix regression caused by exclusive upper/work dir protection
    - arm64: dt marvell: Fix AP806 system controller size
    - arm64: Ensure the instruction emulation is ready for userspace
    - HID: rmi: Make sure the HID device is opened on resume
    - HID: i2c-hid: allocate hid buffers for real worst case
    - HID: wacom: leds: Don't try to control the EKR's read-only LEDs
    - HID: wacom: Properly report negative values from Intuos Pro 2 Bluetooth
    - HID: wacom: Correct coordinate system of touchring and pen twist
    - HID: wacom: generic: Send MSC_SERIAL and ABS_MISC when leaving prox
    - HID: wacom: generic: Clear ABS_MISC when tool leaves proximity
    - HID: wacom: Always increment hdev refcount within wacom_get_hdev_data
    - HID: wacom: bits shifted too much for 9th and 10th buttons
    - btrfs: avoid overflow when sector_t is 32 bit
    - Btrfs: fix overlap of fs_info::flags values
    - rocker: fix rocker_tlv_put_* functions for KASAN
    - netlink: fix nla_put_{u8,u16,u32} for KASAN
    - dm crypt: reject sector_size feature if device length is not aligned to it
    - dm ioctl: fix alignment of event number in the device list
    - dm crypt: fix memory leak in crypt_ctr_cipher_old()
    - KVM: PPC: Book3S: Fix server always zero from kvmppc_xive_get_xive()
    - kvm/x86: Avoid async PF preempting the kernel incorrectly
    - iwlwifi: mvm: use IWL_HCMD_NOCOPY for MCAST_FILTER_CMD
    - scsi: sd: Implement blacklist option for WRITE SAME w/ UNMAP
    - scsi: sd: Do not override max_sectors_kb sysfs setting
    - brcmfmac: add length check in brcmf_cfg80211_escan_handler()
    - brcmfmac: setup passive scan if requested by user-space
    - drm/i915: always update ELD connector type after get modes
    - drm/i915/bios: ignore HDMI on port A
    - bsg-lib: fix use-after-free under memory-pressure
    - nvme-pci: Use PCI bus address for data/queues in CMB
    - mmc: core: add driver strength selection when selecting hs400es
    - nl80211: Define policy for packet pattern attributes
    - clk: samsung: exynos4: Enable VPLL and EPLL clocks for suspend/resume cycle
    - udp: perform source validation for mcast early demux
    - udp: fix bcast packet reception
    - base: arch_topology: fix section mismatch build warnings
    - Linux 4.13.6
  * Artful update to v4.13.5 stable release (LP: #1721777)
    - cifs: check rsp for NULL before dereferencing in SMB2_open
    - cifs: release cifs root_cred after exit_cifs
    - cifs: release auth_key.response for reconnect.
    - nvme-pci: fix host memory buffer allocation fallback
    - nvme-pci: use appropriate initial chunk size for HMB allocation
    - nvme-pci: propagate (some) errors from host memory buffer setup
    - dax: remove the pmem_dax_ops->flush abstraction
    - dm integrity: do not check integrity for failed read operations
    - mmc: block: Fix incorrectly initialized requests
    - fs/proc: Report eip/esp in /prod/PID/stat for coredumping
    - scsi: scsi_transport_fc: fix NULL pointer dereference in fc_bsg_job_timeout
    - SMB3: Add support for multidialect negotiate (SMB2.1 and later)
    - mac80211: fix VLAN handling with TXQs
    - mac80211_hwsim: Use proper TX power
    - mac80211: flush hw_roc_start work before cancelling the ROC
    - mac80211: fix deadlock in driver-managed RX BA session start
    - genirq: Make sparse_irq_lock protect what it should protect
    - genirq/msi: Fix populating multiple interrupts
    - genirq: Fix cpumask check in __irq_startup_managed()
    - KVM: PPC: Book3S HV: Hold kvm->lock around call to kvmppc_update_lpcr
    - KVM: PPC: Book3S HV: Fix bug causing host SLB to be restored incorrectly
    - KVM: PPC: Book3S HV: Don't access XIVE PIPR register using byte accesses
    - tracing: Fix trace_pipe behavior for instance traces
    - tracing: Erase irqsoff trace with empty write
    - tracing: Remove RCU work arounds from stack tracer
    - md/raid5: fix a race condition in stripe batch
    - md/raid5: preserve STRIPE_ON_UNPLUG_LIST in break_stripe_batch_list
    - scsi: scsi_transport_iscsi: fix the issue that iscsi_if_rx doesn't parse
      nlmsg properly
    - scsi: aacraid: Fix 2T+ drives on SmartIOC-2000
    - scsi: aacraid: Add a small delay after IOP reset
    - drm/exynos: Fix locking in the suspend/resume paths
    - drm/i915/gvt: Fix incorrect PCI BARs reporting
    - Revert "drm/i915/bxt: Disable device ready before shutdown command"
    - drm/amdgpu: revert tile table update for oland
    - drm/radeon: disable hard reset in hibernate for APUs
    - crypto: drbg - fix freeing of resources
    - crypto: talitos - Don't provide setkey for non hmac hashing algs.
    - crypto: talitos - fix sha224
    - crypto: talitos - fix hashing
    - security/keys: properly zero out sensitive key material in big_key
    - security/keys: rewrite all of big_key crypto
    - KEYS: fix writing past end of user-supplied buffer in keyring_read()
    - KEYS: prevent creating a different user's keyrings
    - KEYS: prevent KEYCTL_READ on negative key
    - libnvdimm, namespace: fix btt claim class crash
    - powerpc/eeh: Create PHB PEs after EEH is initialized
    - powerpc/pseries: Fix parent_dn reference leak in add_dt_node()
    - powerpc/tm: Flush TM only if CPU has TM feature
    - MIPS: Fix perf event init
    - s390/perf: fix bug when creating per-thread event
    - s390/mm: make pmdp_invalidate() do invalidation only
    - s390/mm: fix write access check in gup_huge_pmd()
    - PM: core: Fix device_pm_check_callbacks()
    - Revert "IB/ipoib: Update broadcast object if PKey value was changed in index
      0"
    - Fix SMB3.1.1 guest authentication to Samba
    - SMB3: Fix endian warning
    - SMB3: Warn user if trying to sign connection that authenticated as guest
    - SMB: Validate negotiate (to protect against downgrade) even if signing off
    - SMB3: handle new statx fields
    - SMB3: Don't ignore O_SYNC/O_DSYNC and O_DIRECT flags
    - vfs: Return -ENXIO for negative SEEK_HOLE / SEEK_DATA offsets
    - libceph: don't allow bidirectional swap of pg-upmap-items
    - nl80211: check for the required netlink attributes presence
    - brd: fix overflow in __brd_direct_access
    - gfs2: Fix debugfs glocks dump
    - bsg-lib: don't free job in bsg_prepare_job
    - iw_cxgb4: drop listen destroy replies if no ep found
    - iw_cxgb4: remove the stid on listen create failure
    - iw_cxgb4: put ep reference in pass_accept_req()
    - rcu: Allow for page faults in NMI handlers
    - mmc: sdhci-pci: Fix voltage switch for some Intel host controllers
    - extable: Consolidate *kernel_text_address() functions
    - extable: Enable RCU if it is not watching in kernel_text_address()
    - seccomp: fix the usage of get/put_seccomp_filter() in seccomp_get_filter()
    - arm64: Make sure SPsel is always set
    - arm64: fault: Route pte translation faults via do_translation_fault
    - KVM: VMX: extract __pi_post_block
    - KVM: VMX: avoid double list add with VT-d posted interrupts
    - KVM: VMX: simplify and fix vmx_vcpu_pi_load
    - KVM: nVMX: fix HOST_CR3/HOST_CR4 cache
    - kvm/x86: Handle async PF in RCU read-side critical sections
    - kvm: nVMX: Don't allow L2 to access the hardware CR8
    - xfs: validate bdev support for DAX inode flag
    - fix infoleak in waitid(2)
    - sched/sysctl: Check user input value of sysctl_sched_time_avg
    - irq/generic-chip: Don't replace domain's name
    - mtd: Fix partition alignment check on multi-erasesize devices
    - mtd: nand: atmel: fix buffer overflow in atmel_pmecc_user
    - etnaviv: fix submit error path
    - etnaviv: fix gem object list corruption
    - futex: Fix pi_state->owner serialization
    - md: fix a race condition for flush request handling
    - md: separate request handling
    - PCI: Fix race condition with driver_override
    - btrfs: fix NULL pointer dereference from free_reloc_roots()
    - btrfs: clear ordered flag on cleaning up ordered extents
    - btrfs: finish ordered extent cleaning if no progress is found
    - btrfs: propagate error to btrfs_cmp_data_prepare caller
    - btrfs: prevent to set invalid default subvolid
    - platform/x86: fujitsu-laptop: Don't oops when FUJ02E3 is not presnt
    - PM / OPP: Call notifier without holding opp_table->lock
    - x86/mm: Fix fault error path using unsafe vma pointer
    - x86/fpu: Don't let userspace set bogus xcomp_bv
    - KVM: VMX: do not change SN bit in vmx_update_pi_irte()
    - KVM: VMX: remove WARN_ON_ONCE in kvm_vcpu_trigger_posted_interrupt
    - KVM: VMX: use cmpxchg64
    - video: fbdev: aty: do not leak uninitialized padding in clk to userspace
    - Linux 4.13.5
    - [Config] Update configs for v4.13.5

  [ Ubuntu: 4.13.0-16.19 ]

  * 20170817 - ISO hangs on boot on qemu with splash screen enabled and qxl
    graphics driver (LP: #1711358)
    - qxl: fix framebuffer unpinning
  * [Bug] USB controller failed to respond on Denverton after loading
    intel_th_pci module (LP: #1715833)
    - SAUCE: PCI: Disable broken RTIT_BAR of Intel TH
  * CVE-2017-5123
    - waitid(): Add missing access_ok() checks

 -- Khalid Elmously <khalid.elmously@canonical.com>  Wed, 08 Nov 2017 12:45:39 -0500

linux-raspi2 (4.13.0-1005.5) artful; urgency=low

  [ Ubuntu: 4.13.0-16.17 ]

  * CVE-2017-5123
    - waitid(): Add missing access_ok() checks

 -- Seth Forshee <seth.forshee@canonical.com>  Tue, 10 Oct 2017 11:58:16 -0500

linux-raspi2 (4.13.0-1004.4) artful; urgency=low

  * linux-raspi2: 4.13.0-1004.4 -proposed tracker (LP: #1721562)

  * Miscellaneous Ubuntu changes
    - [Config] update configs follwing rebase to Ubuntu-4.13.0-15.16

  [ Ubuntu: 4.13.0-15.16 ]

  * linux: 4.13.0-15.16 -proposed tracker (LP: #1721373)
  * Boot regression on POWER9 (LP: #1721391)
    - Revert "crypto/nx: Add P9 NX support for 842 compression engine"
    - Revert "crypto/nx: Add P9 NX specific error codes for 842 engine"
    - Revert "crypto/nx: Use kzalloc for workmem allocation"
    - Revert "crypto/nx: Add nx842_add_coprocs_list function"
    - Revert "crypto/nx: Create nx842_delete_coprocs function"
    - Revert "crypto/nx: Create nx842_configure_crb function"
    - Revert "crypto/nx: Rename nx842_powernv_function as icswx function"
    - Revert "UBUNTU: [Config] CONFIG_PPC_VAS=y"
    - Revert "powerpc/powernv/vas: Define copy/paste interfaces"
    - Revert "powerpc/powernv/vas: Define vas_tx_win_open()"
    - Revert "powerpc/powernv/vas: Define vas_win_close() interface"
    - Revert "powerpc/powernv/vas: Define vas_rx_win_open() interface"
    - Revert "powerpc/powernv/vas: Define helpers to alloc/free windows"
    - Revert "powerpc/powernv/vas: Define helpers to init window context"
    - Revert "powerpc/powernv/vas: Define helpers to access MMIO regions"
    - Revert "powerpc/powernv/vas: Define vas_init() and vas_exit()"
    - Revert "powerpc/powernv: Move GET_FIELD/SET_FIELD to vas.h"
    - Revert "powerpc/powernv/vas: Define macros, register fields and structures"
    - Revert "powerpc/powernv: Enable PCI peer-to-peer"
    - Revert "powerpc/powernv: Add support to set power-shifting-ratio"
    - Revert "powerpc/powernv: Add support for powercap framework"
    - Revert "powerpc/perf: Add nest IMC PMU support"
    - Revert "powerpc/powernv: Detect and create IMC device"
    - Revert "powerpc/powernv: Add IMC OPAL APIs"
  * smartpqi patches for Artful (LP: #1721381)
    - scsi: smartpqi: add pqi reset quiesce support
    - scsi: smartpqi: enhance BMIC cache flush
    - scsi: smartpqi: update pqi passthru ioctl
    - scsi: smartpqi: cleanup doorbell register usage.
    - scsi: smartpqi: update kexec and power down support
    - scsi: smartpqi: add in new controller ids
    - scsi: smartpqi: change driver version to 1.1.2-125
  * CONFIG_DEBUG_FS is not enabled by "make zfcpdump_defconfig" with Ubuntu
    17.10 (kernel 4.13) (LP: #1719290)
    - SAUCE: s390: update zfcpdump_defconfig
  * [Feature] PXE boot with Intel Omni-Path (LP: #1712031)
    - d-i: Add hfi1 to nic-modules
  * [Feature]CNL:New device IDs for CNL (LP: #1685729)
    - pinctrl: intel: Add Intel Cannon Lake PCH-H pin controller support

  [ Ubuntu: 4.13.0-14.15 ]

  * linux: 4.13.0-14.15 -proposed tracker (LP: #1721122)
  * [Artful] ltp rwtest - Unable to handle kernel paging request at virtual
    address (LP: #1721067)
    - arm64: mm: Use READ_ONCE when dereferencing pointer to pte table
  * linux 4.13.0-13.14 ADT test failure with linux 4.13.0-13.14 (LP: #1720779)
    - SAUCE: LSM stacking: check for invalid zero sized writes
  * Add installer support for Broadcom BCM573xx network drivers. (LP: #1720466)
    - d-i: Add bnxt_en to nic-modules.
  * Miscellaneous Ubuntu changes
    - [Packaging] Include arch/arm64/kernel/ftrace-mod.o in headers package

  [ Ubuntu: 4.13.0-13.14 ]

  * linux: 4.13.0-13.14 -proposed tracker (LP: #1720239)
  * [Bug] USB 3.1 Gen2 works as 5Gbps (LP: #1720045)
    - xhci: set missing SuperSpeedPlus Link Protocol bit in roothub descriptor
  * [Feature]Memory Bandwidth Monitoring(MBM) port to new Cache Quality
    Monitoring (CQM) (LP: #1591609)
    - x86/perf/cqm: Wipe out perf based cqm
    - x86/intel_rdt/cqm: Documentation for resctrl based RDT Monitoring
    - x86/intel_rdt: Introduce a common compile option for RDT
    - x86/intel_rdt: Change file names to accommodate RDT monitor code
    - x86/intel_rdt: Mark rdt_root and closid_alloc as static
    - x86/intel_rdt: Cleanup namespace to support RDT monitoring
    - x86/intel_rdt: Make rdt_resources_all more readable
    - x86/intel_rdt/cqm: Add RDT monitoring initialization
    - x86/intel_rdt/cqm: Add RMID (Resource monitoring ID) management
    - x86/intel_rdt: Simplify info and base file lists
    - x86/intel_rdt/cqm: Add info files for RDT monitoring
    - x86/intel_rdt: Prepare for RDT monitoring mkdir support
    - x86/intel_rdt/cqm: Add mkdir support for RDT monitoring
    - x86/intel_rdt: Change closid type from int to u32
    - x86/intel_rdt/cqm: Add tasks file support
    - x86/intel_rdt: Prepare to add RDT monitor cpus file support
    - x86/intel_rdt/cqm: Add cpus file support
    - x86/intel_rdt: Prepare for RDT monitor data support
    - x86/intel_rdt/cqm: Add mon_data
    - x86/intel_rdt: Separate the ctrl bits from rmdir
    - x86/intel_rdt/cqm: Add rmdir support
    - x86/intel_rdt/cqm: Add mount,umount support
    - x86/intel_rdt: Introduce rdt_enable_key for scheduling
    - x86/intel_rdt/cqm: Add sched_in support
    - x86/intel_rdt/cqm: Add CPU hotplug support
    - x86/intel_rdt/mbm: Basic counting of MBM events (total and local)
    - x86/intel_rdt/mbm: Add mbm counter initialization
    - x86/intel_rdt/mbm: Handle counter overflow
    - x86/intel_rdt: Show bitmask of shareable resource with other executing units
    - x86/intel_rdt/cqm: Clear the default RMID during hotcpu
    - x86/intel_rdt: Modify the intel_pqr_state for better performance
    - x86/intel_rdt/mbm: Fix MBM overflow handler during CPU hotplug
    - x86/intel_rdt/cqm: Improve limbo list processing
    - x86/intel_rdt: Remove redundant ternary operator on return
    - [Config] CONFIG_INTEL_RDT=y
  * [Feature] RDT: Disable most RDT features on Skylake server (LP: #1713619)
    - x86/intel_rdt: Move special case code for Haswell to a quirk function
    - x86/intel_rdt: Add command line options for resource director technology
    - x86/intel_rdt: Turn off most RDT features on Skylake
  * CVE-2017-1000252
    - KVM: VMX: Do not BUG() on out-of-bounds guest IRQ
  * POWER9: NX842 module changes (LP: #1718292)
    - crypto/nx: Rename nx842_powernv_function as icswx function
    - crypto/nx: Create nx842_configure_crb function
    - crypto/nx: Create nx842_delete_coprocs function
    - crypto/nx: Add nx842_add_coprocs_list function
    - crypto/nx: Use kzalloc for workmem allocation
    - crypto/nx: Add P9 NX specific error codes for 842 engine
    - crypto/nx: Add P9 NX support for 842 compression engine
  * [Ubuntu 17.10] POWER9 - Base - Integrate P9 VAS (Virtual Accelerator
    Switchboard) support in kernel (LP: #1718293)
    - powerpc/powernv: Add IMC OPAL APIs
    - powerpc/powernv: Detect and create IMC device
    - powerpc/perf: Add nest IMC PMU support
    - powerpc/powernv: Add support for powercap framework
    - powerpc/powernv: Add support to set power-shifting-ratio
    - powerpc/powernv: Enable PCI peer-to-peer
    - powerpc/powernv/vas: Define macros, register fields and structures
    - powerpc/powernv: Move GET_FIELD/SET_FIELD to vas.h
    - powerpc/powernv/vas: Define vas_init() and vas_exit()
    - powerpc/powernv/vas: Define helpers to access MMIO regions
    - powerpc/powernv/vas: Define helpers to init window context
    - powerpc/powernv/vas: Define helpers to alloc/free windows
    - powerpc/powernv/vas: Define vas_rx_win_open() interface
    - powerpc/powernv/vas: Define vas_win_close() interface
    - powerpc/powernv/vas: Define vas_tx_win_open()
    - powerpc/powernv/vas: Define copy/paste interfaces
    - [Config] CONFIG_PPC_VAS=y
  * Artful update to v4.13.4 stable release (LP: #1720154)
    - orangefs: Don't clear SGID when inheriting ACLs
    - <linux/uaccess.h>: Fix copy_in_user() declaration
    - IB/hfi1: Revert egress pkey check enforcement
    - IB/{qib, hfi1}: Avoid flow control testing for RDMA write operation
    - IB/mlx5: Fix cached MR allocation flow
    - srcu: Provide ordering for CPU not involved in grace period
    - smp/hotplug: Handle removal correctly in cpuhp_store_callbacks()
    - Input: xpad - validate USB endpoint type during probe
    - drm/amdgpu: read reg in each iterator of psp_wait_for loop
    - tty: improve tty_insert_flip_char() fast path
    - tty: improve tty_insert_flip_char() slow path
    - tty: fix __tty_insert_flip_char regression
    - pinctrl: samsung: Fix invalid register offset used for Exynos5433 external
      interrupts
    - pinctrl: samsung: Fix NULL pointer exception on external interrupts on
      S3C24xx
    - pinctrl/amd: save pin registers over suspend/resume
    - MIPS: math-emu: <MAX|MAXA|MIN|MINA>.<D|S>: Fix quiet NaN propagation
    - MIPS: math-emu: <MAX|MAXA|MIN|MINA>.<D|S>: Fix cases of both inputs zero
    - MIPS: math-emu: <MAX|MIN>.<D|S>: Fix cases of both inputs negative
    - MIPS: math-emu: <MAXA|MINA>.<D|S>: Fix cases of input values with opposite
      signs
    - MIPS: math-emu: <MAXA|MINA>.<D|S>: Fix cases of both infinite inputs
    - MIPS: math-emu: MINA.<D|S>: Fix some cases of infinity and zero inputs
    - MIPS: math-emu: <MADDF|MSUBF>.<D|S>: Fix NaN propagation
    - MIPS: math-emu: <MADDF|MSUBF>.<D|S>: Fix some cases of infinite inputs
    - MIPS: math-emu: <MADDF|MSUBF>.<D|S>: Fix some cases of zero inputs
    - MIPS: math-emu: <MADDF|MSUBF>.<D|S>: Clean up "maddf_flags" enumeration
    - MIPS: math-emu: <MADDF|MSUBF>.S: Fix accuracy (32-bit case)
    - MIPS: math-emu: <MADDF|MSUBF>.D: Fix accuracy (64-bit case)
    - docs: disable KASLR when debugging kernel
    - crypto: ccp - Fix XTS-AES-128 support on v5 CCPs
    - crypto: scompress - don't sleep with preemption disabled
    - crypto: caam/qi - fix typo in authenc alg driver name
    - crypto: caam/qi - properly set IV after {en,de}crypt
    - crypto: AF_ALG - remove SGL terminator indicator when chaining
    - regulator: cpcap: Fix standby mode
    - wcn36xx: Introduce mutual exclusion of fw configuration
    - ext4: in ext4_seek_{hole,data}, return -ENXIO for negative offsets
    - ext4: fix incorrect quotaoff if the quota feature is enabled
    - ext4: fix quota inconsistency during orphan cleanup for read-only mounts
    - cxl: Fix driver use count
    - powerpc/powernv/npu: Move tlb flush before launching ATSD
    - powerpc/pseries: Don't attempt to acquire drc during memory hot add for
      assigned lmbs
    - powerpc: Fix DAR reporting when alignment handler faults
    - block: Relax a check in blk_start_queue()
    - block: directly insert blk-mq request from blk_insert_cloned_request()
    - md/bitmap: copy correct data for bitmap super
    - md/bitmap: disable bitmap_resize for file-backed bitmaps.
    - skd: Avoid that module unloading triggers a use-after-free
    - skd: Submit requests to firmware before triggering the doorbell
    - scsi: zfcp: fix queuecommand for scsi_eh commands when DIX enabled
    - scsi: zfcp: add handling for FCP_RESID_OVER to the fcp ingress path
    - scsi: zfcp: fix capping of unsuccessful GPN_FT SAN response trace records
    - scsi: zfcp: fix passing fsf_req to SCSI trace on TMF to correlate with HBA
    - scsi: zfcp: fix missing trace records for early returns in TMF eh handlers
    - scsi: zfcp: fix payload with full FCP_RSP IU in SCSI trace records
    - scsi: zfcp: trace HBA FSF response by default on dismiss or timedout late
      response
    - scsi: zfcp: trace high part of "new" 64 bit SCSI LUN
    - scsi: qedi: off by one in qedi_get_cmd_from_tid()
    - scsi: aacraid: Fix command send race condition
    - scsi: megaraid_sas: mismatch of allocated MFI frame size and length exposed
      in MFI MPT pass through command
    - scsi: megaraid_sas: set minimum value of resetwaittime to be 1 secs
    - scsi: megaraid_sas: Check valid aen class range to avoid kernel panic
    - scsi: megaraid_sas: Return pended IOCTLs with cmd_status
      MFI_STAT_WRONG_STATE in case adapter is dead
    - scsi: storvsc: fix memory leak on ring buffer busy
    - scsi: sg: factor out sg_fill_request_table()
    - scsi: sg: fixup infoleak when using SG_GET_REQUEST_TABLE
    - scsi: qla2xxx: Update fw_started flags at qpair creation.
    - scsi: qla2xxx: Correction to vha->vref_count timeout
    - scsi: qla2xxx: Fix target multiqueue configuration
    - scsi: qla2xxx: Use BIT_6 to acquire FAWWPN from switch
    - scsi: qla2xxx: Use fabric name for Get Port Speed command
    - scsi: qla2xxx: Fix an integer overflow in sysfs code
    - mailbox: bcm-flexrm-mailbox: Fix mask used in CMPL_START_ADDR_VALUE()
    - ftrace: Fix debug preempt config name in stack_tracer_{en,dis}able
    - ftrace: Fix selftest goto location on error
    - ftrace: Fix memleak when unregistering dynamic ops when tracing disabled
    - tracing: Add barrier to trace_printk() buffer nesting modification
    - tracing: Fix clear of RECORDED_TGID flag when disabling trace event
    - tracing: Apply trace_clock changes to instance max buffer
    - ARC: Re-enable MMU upon Machine Check exception
    - PCI: shpchp: Enable bridge bus mastering if MSI is enabled
    - PCI: pciehp: Report power fault only once until we clear it
    - net/netfilter/nf_conntrack_core: Fix net_conntrack_lock()
    - media: v4l2-compat-ioctl32: Fix timespec conversion
    - media: Revert "[media] lirc_dev: remove superfluous get/put_device() calls"
    - media: venus: fix copy/paste error in return_buf_error
    - media: uvcvideo: Prevent heap overflow when accessing mapped controls
    - media: adv7180: add missing adv7180cp, adv7180st i2c device IDs
    - PM / devfreq: Fix memory leak when fail to register device
    - ALSA: seq: Cancel pending autoload work at unbinding device
    - bcache: initialize dirty stripes in flash_dev_run()
    - bcache: Fix leak of bdev reference
    - bcache: do not subtract sectors_to_gc for bypassed IO
    - bcache: correct cache_dirty_target in __update_writeback_rate()
    - bcache: Correct return value for sysfs attach errors
    - bcache: fix sequential large write IO bypass
    - bcache: fix for gc and write-back race
    - bcache: fix bch_hprint crash and improve output
    - sched/cpuset/pm: Fix cpuset vs. suspend-resume bugs
    - iwlwifi: add workaround to disable wide channels in 5GHz
    - Linux 4.13.4
  * [17.10 FEAT] KVM: CPU Model z14 (LP: #1719297)
    - KVM: s390: Support Configuration z/Architecture Mode
  * sata reset hangs w/ early cn99xx silicon (LP: #1719031)
    - SAUCE: ahci: thunderx2: Fix for errata that affects stop engine
    - SAUCE: ahci: thunderx2: stop engine fix update
  * PCI quirk required for SATA on early cn99xx silicon (LP: #1718760)
    - SAUCE: PCI: Vulcan: AHCI PCI bar fix for Broadcom Vulcan early silicon
  * Please make linux-libc-dev Provide: aufs-dev (LP: #1716091)
    - [Packaging] Add aufs-dev to the Provides: for linux-libc-dev
  * Miscellaneous Ubuntu changes
    - [Packaging] Use SRCPKGNAME rather than hard-coding the source package name
    - SAUCE: LSM stacking: procfs: add smack subdir to attrs
    - SAUCE: LSM stacking: LSM: manage credential security blobs
    - SAUCE: LSM stacking: LSM: Manage file security blobs
    - SAUCE: LSM stacking: LSM: manage task security blobs
    - SAUCE: LSM stacking: LSM: Infrastructure management of the remaining blobs
    - SAUCE: LSM stacking: LSM: general but not extreme module stacking
    - SAUCE: LSM stacking: LSM: Complete task_alloc hook
    - SAUCE: LSM stacking: fixup procsfs: add smack subdir to attrs
    - SAUCE: LSM stacking: fixup initialize task->security
    - SAUCE: LSM stacking: fixup: alloc_task_ctx is dead code
    - SAUCE: LSM stacking: add support for stacking getpeersec_stream
    - SAUCE: LSM stacking: add stacking support to apparmor network hooks
    - SAUCE: LSM stacking: fixup apparmor stacking enablement
    - SAUCE: LSM stacking: fixup stacking kconfig
    - SAUCE: LSM stacking: allow selecting multiple LSMs using kernel boot params
    - SAUCE: LSM stacking: provide prctl interface for setting context
    - SAUCE: LSM stacking: inherit current display LSM
    - SAUCE: LSM stacking: keep an index for each registered LSM
    - SAUCE: LSM stacking: verify display LSM
    - SAUCE: LSM stacking: provide a way to specify the default display lsm
    - SAUCE: LSM stacking: make sure LSM blob align on 64 bit boundaries
    - SAUCE: LSM stacking: add /proc/<pid>/attr/display_lsm
    - SAUCE: LSM stacking: add Kconfig to set default display LSM
    - SAUCE: LSM stacking: add configs for LSM stacking
    - [Config] Run updateconfigs after merging LSM stacking

  [ Ubuntu: 4.13.0-12.13 ]

  * linux: 4.13.0-12.13 -proposed tracker (LP: #1718980)
  * [Feature] SKX: Support crystall ridge / far / near memory indication in PEBS
    (LP: #1591813)
    - perf/x86: Move Nehalem PEBS code to flag
    - perf/x86: Fix data source decoding for Skylake
  * Upgrade to 4.13.0-11.12 in artful amd64 VM breaks display on wayland
    (LP: #1718679)
    - [Config] CONFIG_DRM_VBOXVIDEO=n
  * ipmmu-vmsa driver breaks arm64 boots (LP: #1718734)
    - [Config] Disable CONFIG_IPMMU_VMSA on arm64
  * Vlun resize request could fail with cxlflash driver (LP: #1713575)
    - scsi: cxlflash: Fix vlun resize failure in the shrink path
  * multipath -ll is not showing the disks which are actually multipath
    (LP: #1718397)
    - fs: aio: fix the increment of aio-nr and counting against aio-max-nr
  * [Feature] Crystal Ridge - BTT - Rework error clearing (LP: #1704350)
    - libnvdimm, btt: fix a missed NVDIMM_IO_ATOMIC case in the write path
    - libnvdimm, btt: refactor map entry operations with macros
    - libnvdimm, btt: ensure that flags were also unchanged during a map_read
    - libnvdimm, btt: cache sector_size in arena_info
    - libnvdimm: fix potential deadlock while clearing errors
    - libnvdimm, btt: rework error clearing
  * [Feature] Crystal Ridge - have 4k DAX faults use a common zero page
    (LP: #1704439)
    - mm: add vm_insert_mixed_mkwrite()
    - dax: relocate some dax functions
    - dax: use common 4k zero page for dax mmap reads
    - dax: remove DAX code from page_cache_tree_insert()
    - dax: move all DAX radix tree defs to fs/dax.c
  * [bug] 17.10: CDP test fail on platform of Purley-2S/4S/Neoncity,BDW-
    de/ep/ex, (LP: #1716843)
    - SAUCE: (no-up) x86/intel_rdt: Fix cdp info directory files issue
  * [featue] GPIO support for Denverton (LP: #1591829)
    - pinctrl: intel: Add Intel Denverton pin controller support
  * ETPS/2 Elantech Touchpad inconsistently detected (Gigabyte P57W laptop)
    (LP: #1594214)
    - Input: i8042 - add Gigabyte P57 to the keyboard reset table
  * autopkgtest profile fails to build on armhf (LP: #1717920)
    - [Packaging] autopkgtest -- disable d-i when dropping flavours
  * Artful update to v4.13.3 stable release (LP: #1718412)
    - Revert "net: use lib/percpu_counter API for fragmentation mem accounting"
    - Revert "net: fix percpu memory leaks"
    - gianfar: Fix Tx flow control deactivation
    - vhost_net: correctly check tx avail during rx busy polling
    - ip6_gre: update mtu properly in ip6gre_err
    - udp: drop head states only when all skb references are gone
    - ipv6: fix memory leak with multiple tables during netns destruction
    - ipv6: fix typo in fib6_net_exit()
    - sctp: fix missing wake ups in some situations
    - tcp: fix a request socket leak
    - ip_tunnel: fix setting ttl and tos value in collect_md mode
    - f2fs: let fill_super handle roll-forward errors
    - f2fs: check hot_data for roll-forward recovery
    - x86/fsgsbase/64: Fully initialize FS and GS state in start_thread_common
    - x86/fsgsbase/64: Report FSBASE and GSBASE correctly in core dumps
    - x86/switch_to/64: Rewrite FS/GS switching yet again to fix AMD CPUs
    - x86/mm, mm/hwpoison: Clear PRESENT bit for kernel 1:1 mappings of poison
      pages
    - ovl: fix false positive ESTALE on lookup
    - fuse: allow server to run in different pid_ns
    - idr: remove WARN_ON_ONCE() when trying to replace negative ID
    - libnvdimm, btt: check memory allocation failure
    - libnvdimm: fix integer overflow static analysis warning
    - xfs: write unmount record for ro mounts
    - xfs: toggle readonly state around xfs_log_mount_finish
    - xfs: Add infrastructure needed for error propagation during buffer IO
      failure
    - xfs: Properly retry failed inode items in case of error during buffer
      writeback
    - xfs: fix recovery failure when log record header wraps log end
    - xfs: always verify the log tail during recovery
    - xfs: fix log recovery corruption error due to tail overwrite
    - xfs: handle -EFSCORRUPTED during head/tail verification
    - xfs: stop searching for free slots in an inode chunk when there are none
    - xfs: evict all inodes involved with log redo item
    - xfs: check for race with xfs_reclaim_inode() in xfs_ifree_cluster()
    - xfs: open-code xfs_buf_item_dirty()
    - xfs: remove unnecessary dirty bli format check for ordered bufs
    - xfs: ordered buffer log items are never formatted
    - xfs: refactor buffer logging into buffer dirtying helper
    - xfs: don't log dirty ranges for ordered buffers
    - xfs: skip bmbt block ino validation during owner change
    - xfs: move bmbt owner change to last step of extent swap
    - xfs: disallow marking previously dirty buffers as ordered
    - xfs: relog dirty buffers during swapext bmbt owner change
    - xfs: disable per-inode DAX flag
    - xfs: fix incorrect log_flushed on fsync
    - xfs: don't set v3 xflags for v2 inodes
    - xfs: open code end_buffer_async_write in xfs_finish_page_writeback
    - xfs: use kmem_free to free return value of kmem_zalloc
    - md/raid1/10: reset bio allocated from mempool
    - md/raid5: release/flush io in raid5_do_work()
    - xfs: fix compiler warnings
    - Linux 4.13.3
  * Artful update to v4.13.2 stable release (LP: #1717549)
    - mtd: nand: make Samsung SLC NAND usable again
    - mtd: nand: hynix: add support for 20nm NAND chips
    - mtd: nand: mxc: Fix mxc_v1 ooblayout
    - mtd: nand: qcom: fix read failure without complete bootchain
    - mtd: nand: qcom: fix config error for BCH
    - nvme-fabrics: generate spec-compliant UUID NQNs
    - btrfs: resume qgroup rescan on rw remount
    - rtlwifi: btcoexist: Fix breakage of ant_sel for rtl8723be
    - rtlwifi: btcoexist: Fix antenna selection code
    - radix-tree: must check __radix_tree_preload() return value
    - brcmfmac: feature check for multi-scheduled scan fails on bcm4345 devices
    - kselftests: timers: leap-a-day: Change default arguments to help test runs
    - selftests: timers: Fix run_destructive_tests target to handle skipped tests
    - selftests/x86/fsgsbase: Test selectors 1, 2, and 3
    - mm: kvfree the swap cluster info if the swap file is unsatisfactory
    - mm/swapfile.c: fix swapon frontswap_map memory leak on error
    - mm/sparse.c: fix typo in online_mem_sections
    - mm/memory.c: fix mem_cgroup_oom_disable() call missing
    - KVM: SVM: Limit PFERR_NESTED_GUEST_PAGE error_code check to L1 guest
    - Revert "firmware: add sanity check on shutdown/suspend"
    - rt2800: fix TX_PIN_CFG setting for non MT7620 chips
    - ARM64: dts: marvell: armada-37xx: Fix GIC maintenance interrupt
    - ARM: 8692/1: mm: abort uaccess retries upon fatal signal
    - NFS: Fix 2 use after free issues in the I/O code
    - NFS: Sync the correct byte range during synchronous writes
    - NFSv4: Fix up mirror allocation
    - xfs: XFS_IS_REALTIME_INODE() should be false if no rt device present
    - Linux 4.13.2
  * [Bug] Thunderbolt-patches: Related to the way the key for secure connection
    is handled (LP: #1717430)
    - thunderbolt: Remove superfluous check
    - thunderbolt: Make key root-only accessible
    - thunderbolt: Allow clearing the key
  * [Bug] Thunderbolt-patches: Fixes the issue regarding the order of ACPI calls
    w.r.t. PCI enumeration (LP: #1717431)
    - ACPICA: Dispatch active GPEs at init time
    - ACPICA: Make it possible to enable runtime GPEs earlier
    - ACPI / scan: Enable GPEs before scanning the namespace
  * Miscellaneous Ubuntu changes
    - ubuntu: vbox -- update to 5.1.28-dfsg-1
    - [Config] CONFIG_PINCTRL_DENVERTON=m
    - [Config] CONFIG_I2C_XLP9XX=m
  * Miscellaneous upstream changes
    - Introduce v3 namespaced file capabilities

 -- Seth Forshee <seth.forshee@canonical.com>  Thu, 05 Oct 2017 09:57:27 -0500

linux-raspi2 (4.13.0-1003.3) artful; urgency=low

  * linux-raspi2: 4.13.0-1003.3 -proposed tracker (LP: #1720134)

  * Snapcraft.yaml update (LP: #1700577)
    - snapcraft.yaml: various improvements

  * Miscellaneous Ubuntu changes
    - [Config] CONFIG_ALTERA_PR_IP_CORE=m
    - [Config] CONFIG_ARM64_RELOC_TEST=m
    - [Config] CONFIG_ATH10K_SDIO=m
    - [Config] CONFIG_AXP20X_ADC=m
    - [Config] CONFIG_BACKLIGHT_ARCXCNN=m
    - [Config] CONFIG_BATTERY_LEGO_EV3=m
    - [Config] CONFIG_BCM2835_THERMAL=m
    - [Config] CONFIG_BCM_FLEXRM_MBOX=m
    - [Config] CONFIG_BCM_SBA_RAID=m
    - [Config] CONFIG_BT_HCIUART_NOKIA=m
    - [Config] CONFIG_CAN_HI311X=m
    - [Config] CONFIG_CAN_MCBA_USB=m
    - [Config] CONFIG_CAN_VXCAN=m
    - [Config] CONFIG_CHARGER_LTC3651=m
    - [Config] CONFIG_CORTINA_PHY=m
    - [Config] CONFIG_CPCAP_ADC=m
    - [Config] CONFIG_CRYPTO_DEV_CCREE=m
    - [Config] CONFIG_DA9062_THERMAL=m
    - [Config] CONFIG_DM_INTEGRITY=m
    - [Config] CONFIG_DM_ZONED=m
    - [Config] CONFIG_DRM_LVDS_ENCODER=m
    - [Config] CONFIG_DRM_MEGACHIPS_STDPXXXX_GE_B850V3_FW=m
    - [Config] CONFIG_DRM_PANEL_INNOLUX_P079ZCA=m
    - [Config] CONFIG_DRM_PANEL_LVDS=m
    - [Config] CONFIG_DRM_PANEL_SAMSUNG_S6E3HA2=m
    - [Config] CONFIG_DRM_PANEL_SITRONIX_ST7789V=m
    - [Config] CONFIG_DRM_PL111=m
    - [Config] CONFIG_DRM_RCAR_DW_HDMI=m
    - [Config] CONFIG_DRM_STM=m
    - [Config] CONFIG_DWC_XLGMAC=m
    - [Config] CONFIG_FB_TFT_SH1106=m
    - [Config] CONFIG_FPGA_MGR_ICE40_SPI=m
    - [Config] CONFIG_FPGA_MGR_XILINX_SPI=m
    - [Config] CONFIG_FSI_MASTER_GPIO=m
    - [Config] CONFIG_FSI_MASTER_HUB=m
    - [Config] CONFIG_FSI_SCOM=m
    - [Config] CONFIG_GPIO_XRA1403=m
    - [Config] CONFIG_HD44780=m
    - [Config] CONFIG_HID_ACCUTOUCH=m
    - [Config] CONFIG_HID_ITE=m
    - [Config] CONFIG_HID_NTI=m
    - [Config] CONFIG_HID_RETRODE=m
    - [Config] CONFIG_HID_SENSOR_HUMIDITY=m
    - [Config] CONFIG_HID_SENSOR_TEMP=m
    - [Config] CONFIG_HWSPINLOCK=m
    - [Config] CONFIG_I2C_MUX_GPMUX=m
    - [Config] CONFIG_I2C_MUX_LTC4306=m
    - [Config] CONFIG_IEEE802154_CA8210=m
    - [Config] CONFIG_IIO_CROS_EC_LIGHT_PROX=m
    - [Config] CONFIG_IIO_MUX=m
    - [Config] CONFIG_INPUT_CPCAP_PWRBUTTON=m
    - [Config] CONFIG_IOSCHED_BFQ=m
    - [Config] CONFIG_IR_SIR=m
    - [Config] CONFIG_JOYSTICK_PSXPAD_SPI=m
    - [Config] CONFIG_KEYBOARD_DLINK_DIR685=m
    - [Config] CONFIG_LEDS_CPCAP=m
    - [Config] CONFIG_LEDS_LP3952=m
    - [Config] CONFIG_LEDS_MT6323=m
    - [Config] CONFIG_LTC2497=m
    - [Config] CONFIG_LTC2632=m
    - [Config] CONFIG_MARVELL_10G_PHY=m
    - [Config] CONFIG_MAX1118=m
    - [Config] CONFIG_MAX30102=m
    - [Config] CONFIG_MAX9611=m
    - [Config] CONFIG_MFD_TI_LMU=m
    - [Config] CONFIG_MFD_TI_LP87565=m
    - [Config] CONFIG_MICROCHIP_KSZ=m
    - [Config] CONFIG_MMC_BCM2835_MMC=m
    - [Config] CONFIG_MMC_SDHCI_XENON=m
    - [Config] CONFIG_MTD_MCHP23K256=m
    - [Config] CONFIG_NET_DSA_LOOP=m
    - [Config] CONFIG_NET_DSA_MT7530=m
    - [Config] CONFIG_NET_DSA_SMSC_LAN9303_I2C=m
    - [Config] CONFIG_NET_DSA_SMSC_LAN9303_MDIO=m
    - [Config] CONFIG_PHY_CPCAP_USB=m
    - [Config] CONFIG_PINCTRL_MCP23S08=m
    - [Config] CONFIG_QCA7000_SPI=m
    - [Config] CONFIG_QCA7000_UART=m
    - [Config] CONFIG_QCOM_PM8XXX_XOADC=m
    - [Config] CONFIG_REGULATOR_ARIZONA_LDO1=m
    - [Config] CONFIG_REGULATOR_ARIZONA_MICSUPP=m
    - [Config] CONFIG_REGULATOR_HI6421V530=m
    - [Config] CONFIG_REGULATOR_TPS65132=m
    - [Config] CONFIG_REGULATOR_VCTRL=m
    - [Config] CONFIG_RESET_TI_SYSCON=m
    - [Config] CONFIG_RPMSG_QCOM_GLINK_RPM=m
    - [Config] CONFIG_RTC_DRV_CPCAP=m
    - [Config] CONFIG_RTC_DRV_FTRTC010=m
    - [Config] CONFIG_RTL8723BS=m
    - [Config] CONFIG_SENSORS_ASPEED=m
    - [Config] CONFIG_SENSORS_IR35221=m
    - [Config] CONFIG_SERIAL_8250_ASPEED_VUART=m
    - [Config] CONFIG_SND_AUDIO_GRAPH_CARD=m
    - [Config] CONFIG_SND_AUDIO_GRAPH_SCU_CARD=m
    - [Config] CONFIG_SND_BCM2708_SOC_ALLO_DIGIONE=m
    - [Config] CONFIG_SND_I2S_HI6210_I2S=m
    - [Config] CONFIG_SND_SOC_ADAU1761_I2C=m
    - [Config] CONFIG_SND_SOC_ADAU1761_SPI=m
    - [Config] CONFIG_SND_SOC_CS35L35=m
    - [Config] CONFIG_SND_SOC_DIO2125=m
    - [Config] CONFIG_SND_SOC_ES7134=m
    - [Config] CONFIG_SND_SOC_ES8316=m
    - [Config] CONFIG_SND_SOC_MAX98927=m
    - [Config] CONFIG_SND_SOC_NAU8824=m
    - [Config] CONFIG_SND_SOC_ZX_AUD96P22=m
    - [Config] CONFIG_SRF04=m
    - [Config] CONFIG_TEE=m
    - [Config] CONFIG_TEST_KMOD=m
    - [Config] CONFIG_TEST_SYSCTL=m
    - [Config] CONFIG_TI_ADC084S021=m
    - [Config] CONFIG_TI_ADC108S102=m
    - [Config] CONFIG_TLS=m
    - [Config] CONFIG_TOUCHSCREEN_STMFTS=m
    - [Config] CONFIG_TYPEC_TCPM=m
    - [Config] CONFIG_TYPEC_UCSI=m
    - [Config] CONFIG_USB_RAINSHADOW_CEC=m
    - [Config] CONFIG_VIDEO_MUX=m
    - [Config] CONFIG_VIDEO_VIMC=m
    - [Config] CONFIG_VL6180=m
    - [Config] CONFIG_VSOCKMON=m
    - [Config] CONFIG_W1_SLAVE_DS2438=m
    - [Config] CONFIG_XILINX_PR_DECOUPLER=m
    - [Config] CONFIG_ZX_TDM=m
    - [Config] drm: disable support for alien gpu (!BCM)
    - [Config] CONFIG_GENERIC_IRQ_DEBUGFS=y
    - [Config] CONFIG_XFRM_USER=y
    - [Config] CONFIG_BCM2835_THERMAL=y
    - [Config] CONFIG_MMC_BCM2835_DMA=y | CONFIG_MMC_BCM2835_MMC=y
    - [Config] CONFIG_SPI_SLAVE=y
    - [Config] CONFIG_JOYSTICK_PSXPAD_SPI_FF=y
    - [Config] CONFIG_SCSI_ISCSI_ATTRS=y
    - [Config] CONFIG_BLK_DEV_LOOP_MIN_COUNT=256
    - [Config] annotations: DEVKMEM is not available on arm64
    - SAUCE: snapcraft.yaml build file
    - [Config] CONFIG_SPI_BCM2835=y
    - [Config] CONFIG_SCSI_MQ_DEFAULT is not set

 -- Seth Forshee <seth.forshee@canonical.com>  Thu, 28 Sep 2017 09:21:41 -0400

linux-raspi2 (4.13.0-1002.2) artful; urgency=low

  * Initial raspi2 topic branch based off unstable/master @ 9f3b2f8
  * RaspberryPI BSP from rpi-4.13.y @ 3137073

 -- Paolo Pisati <paolo.pisati@canonical.com>  Fri, 25 Aug 2017 17:11:54 +0200

linux-raspi2 (4.11.0-1004.5) artful; urgency=low

  * linux-raspi2: 4.11.0-1004.5 -proposed tracker (LP: #1704188)

  * Miscellaneous Ubuntu changes
    - rebase to Ubuntu-4.11.0-11.16
    - [Config] update configs following rebase to Ubuntu-4.11.0-11.16
    - [Packaging] fix insertchanges

  [ Ubuntu: 4.11.0-11.16 ]

  * linux: 4.11.0-11.16 -proposed tracker (LP: #1703901)
  * Artful update to v4.11.10 stable release (LP: #1703854)
    - fs: add a VALID_OPEN_FLAGS
    - fs: completely ignore unknown open flags
    - driver core: platform: fix race condition with driver_override
    - RDMA/uverbs: Check port number supplied by user verbs cmds
    - ceph: choose readdir frag based on previous readdir reply
    - tracing/kprobes: Allow to create probe with a module name starting with a
      digit
    - usb: dwc3: replace %p with %pK
    - USB: serial: cp210x: add ID for CEL EM3588 USB ZigBee stick
    - Add USB quirk for HVR-950q to avoid intermittent device resets
    - usb: usbip: set buffer pointers to NULL after free
    - usb: Fix typo in the definition of Endpoint[out]Request
    - USB: core: fix device node leak
    - arm: remove wrong CONFIG_PROC_SYSCTL ifdef
    - pinctrl: sh-pfc: r8a7794: Swap ATA signals
    - pinctrl: sh-pfc: r8a7791: Fix SCIF2 pinmux data
    - pinctrl: sh-pfc: r8a7791: Add missing DVC_MUTE signal
    - pinctrl: sh-pfc: r8a7795: Fix hscif2_clk_b and hscif4_ctrl
    - pinctrl: meson: meson8b: fix the NAND DQS pins
    - pinctrl: stm32: Fix bad function call
    - pinctrl: sunxi: Fix SPDIF function name for A83T
    - pinctrl: core: Fix warning by removing bogus code
    - pinctrl: mxs: atomically switch mux and drive strength config
    - pinctrl: sh-pfc: r8a7791: Add missing HSCIF1 pinmux data
    - pinctrl: sh-pfc: Update info pointer after SoC-specific init
    - USB: serial: option: add two Longcheer device ids
    - USB: serial: qcserial: new Sierra Wireless EM7305 device ID
    - xhci: Limit USB2 port wake support for AMD Promontory hosts
    - gfs2: Fix glock rhashtable rcu bug
    - Add "shutdown" to "struct class".
    - tpm: Issue a TPM2_Shutdown for TPM2 devices.
    - tpm: fix a kernel memory leak in tpm-sysfs.c
    - x86/uaccess: Optimize copy_user_enhanced_fast_string() for short strings
    - xen: avoid deadlock in xenbus driver
    - crypto: drbg - Fixes panic in wait_for_completion call
    - rt286: add Thinkpad Helix 2 to force_combo_jack_table
    - Linux 4.11.10
  * CVE-2017-10810
    - drm/virtio: don't leak bo on drm_gem_object_init failure
  * cxlflash update request in the Xenial SRU stream (LP: #1702521)
    - scsi: cxlflash: Separate RRQ processing from the RRQ interrupt handler
    - scsi: cxlflash: Serialize RRQ access and support offlevel processing
    - scsi: cxlflash: Implement IRQ polling for RRQ processing
    - scsi: cxlflash: Update sysfs helper routines to pass config structure
    - scsi: cxlflash: Support dynamic number of FC ports
    - scsi: cxlflash: Remove port configuration assumptions
    - scsi: cxlflash: Hide FC internals behind common access routine
    - scsi: cxlflash: SISlite updates to support 4 ports
    - scsi: cxlflash: Support up to 4 ports
    - scsi: cxlflash: Fence EEH during probe
    - scsi: cxlflash: Remove unnecessary DMA mapping
    - scsi: cxlflash: Fix power-of-two validations
    - scsi: cxlflash: Fix warnings/errors
    - scsi: cxlflash: Improve asynchronous interrupt processing
    - scsi: cxlflash: Support multiple hardware queues
    - scsi: cxlflash: Add hardware queues attribute
    - scsi: cxlflash: Introduce hardware queue steering
    - cxl: Enable PCI device IDs for future IBM CXL adapters
    - scsi: cxlflash: Select IRQ_POLL
    - scsi: cxlflash: Combine the send queue locks
    - scsi: cxlflash: Update cxlflash_afu_sync() to return errno
    - scsi: cxlflash: Reset hardware queue context via specified register
    - scsi: cxlflash: Schedule asynchronous reset of the host
    - scsi: cxlflash: Handle AFU sync failures
    - scsi: cxlflash: Track pending scsi commands in each hardware queue
    - scsi: cxlflash: Flush pending commands in cleanup path
    - scsi: cxlflash: Add scsi command abort handler
    - scsi: cxlflash: Create character device to provide host management interface
    - scsi: cxlflash: Separate AFU internal command handling from AFU sync
      specifics
    - scsi: cxlflash: Introduce host ioctl support
    - scsi: cxlflash: Refactor AFU capability checking
    - scsi: cxlflash: Support LUN provisioning
    - scsi: cxlflash: Support AFU debug
    - scsi: cxlflash: Support WS16 unmap
    - scsi: cxlflash: Remove zeroing of private command data
    - scsi: cxlflash: Update TMF command processing
    - scsi: cxlflash: Avoid double free of character device
    - scsi: cxlflash: Update send_tmf() parameters
    - scsi: cxlflash: Update debug prints in reset handlers
  * make snap-pkg support (LP: #1700747)
    - make snap-pkg support
  * Quirk for non-compliant PCI bridge on HiSilicon D05 board (LP: #1698706)
    - SAUCE: PCI: Support hibmc VGA cards behind a misbehaving HiSilicon bridge
  * arm64: fix crash reading /proc/kcore (LP: #1702749)
    - fs/proc: kcore: use kcore_list type to check for vmalloc/module address
    - arm64: mm: select CONFIG_ARCH_PROC_KCORE_TEXT
  * Opal and POWER9 DD2 (LP: #1702159)
    - SAUCE: powerpc/powernv: Tell OPAL about our MMU mode on POWER9
  * Data corruption with hio driver  (LP: #1701316)
    - SAUCE: hio: Fix incorrect use of enum req_opf values
  * Artful update to v4.11.9 stable release (LP: #1702515)
    - net: don't call strlen on non-terminated string in dev_set_alias()
    - net: Fix inconsistent teardown and release of private netdev state.
    - net: s390: fix up for "Fix inconsistent teardown and release of private
      netdev state"
    - mac80211: free netdev on dev_alloc_name() error
    - decnet: dn_rtmsg: Improve input length sanitization in
      dnrmg_receive_user_skb
    - net: Zero ifla_vf_info in rtnl_fill_vfinfo()
    - net: ipv6: Release route when device is unregistering
    - net: vrf: Make add_fib_rules per network namespace flag
    - af_unix: Add sockaddr length checks before accessing sa_family in bind and
      connect handlers
    - Fix an intermittent pr_emerg warning about lo becoming free.
    - sctp: disable BH in sctp_for_each_endpoint
    - net: caif: Fix a sleep-in-atomic bug in cfpkt_create_pfx
    - net: tipc: Fix a sleep-in-atomic bug in tipc_msg_reverse
    - net/mlx5: Remove several module events out of ethtool stats
    - net/mlx5e: Added BW check for DIM decision mechanism
    - net/mlx5e: Fix wrong indications in DIM due to counter wraparound
    - net/mlx5: Enable 4K UAR only when page size is bigger than 4K
    - proc: snmp6: Use correct type in memset
    - igmp: acquire pmc lock for ip_mc_clear_src()
    - igmp: add a missing spin_lock_init()
    - qmi_wwan: new Telewell and Sierra device IDs
    - net: don't global ICMP rate limit packets originating from loopback
    - ipv6: fix calling in6_ifa_hold incorrectly for dad work
    - sctp: return next obj by passing pos + 1 into sctp_transport_get_idx
    - net/mlx5e: Fix min inline value for VF rep SQs
    - net/mlx5e: Avoid doing a cleanup call if the profile doesn't have it
    - net/mlx5: Wait for FW readiness before initializing command interface
    - net/mlx5e: Fix timestamping capabilities reporting
    - decnet: always not take dst->__refcnt when inserting dst into hash table
    - net: 8021q: Fix one possible panic caused by BUG_ON in free_netdev
    - ipv6: Do not leak throw route references
    - rtnetlink: add IFLA_GROUP to ifla_policy
    - netfilter: synproxy: fix conntrackd interaction
    - NFSv4.x/callback: Create the callback service through svc_create_pooled
    - xen/blkback: don't use xen_blkif_get() in xen-blkback kthread
    - MIPS: head: Reorder instructions missing a delay slot
    - MIPS: Avoid accidental raw backtrace
    - MIPS: pm-cps: Drop manual cache-line alignment of ready_count
    - MIPS: Fix IRQ tracing & lockdep when rescheduling
    - ALSA: hda - Fix endless loop of codec configure
    - ALSA: hda - set input_path bitmap to zero after moving it to new place
    - NFSv4.2: Don't send mode again in post-EXCLUSIVE4_1 SETATTR with umask
    - NFSv4.1: Fix a race in nfs4_proc_layoutget
    - Revert "NFS: nfs_rename() handle -ERESTARTSYS dentry left behind"
    - ovl: copy-up: don't unlock between lookup and link
    - gpiolib: fix filtering out unwanted events
    - x86/intel_rdt: Fix memory leak on mount failure
    - perf/x86/intel/uncore: Fix wrong box pointer check
    - drm/vmwgfx: Free hash table allocated by cmdbuf managed res mgr
    - dm thin: do not queue freed thin mapping for next stage processing
    - x86/mm: Fix boot crash caused by incorrect loop count calculation in
      sync_global_pgds()
    - mm/vmalloc.c: huge-vmap: fail gracefully on unexpected huge vmap mappings
    - xen/blkback: don't free be structure too early
    - xfrm6: Fix IPv6 payload_len in xfrm6_transport_finish
    - xfrm: move xfrm_garbage_collect out of xfrm_policy_flush
    - xfrm: fix stack access out of bounds with CONFIG_XFRM_SUB_POLICY
    - xfrm: NULL dereference on allocation failure
    - xfrm: Oops on error in pfkey_msg2xfrm_state()
    - watchdog: bcm281xx: Fix use of uninitialized spinlock.
    - ARM64: PCI: Fix struct acpi_pci_root_ops allocation failure path
    - ARM64/ACPI: Fix BAD_MADT_GICC_ENTRY() macro implementation
    - ARM: 8685/1: ensure memblock-limit is pmd-aligned
    - ARM: davinci: PM: Free resources in error handling path in 'davinci_pm_init'
    - ARM: davinci: PM: Do not free useful resources in normal path in
      'davinci_pm_init'
    - tools arch: Sync arch/x86/lib/memcpy_64.S with the kernel
    - Revert "x86/entry: Fix the end of the stack for newly forked tasks"
    - x86/mshyperv: Remove excess #includes from mshyperv.h
    - x86/boot/KASLR: Fix kexec crash due to 'virt_addr' calculation bug
    - perf/x86: Fix spurious NMI with PEBS Load Latency event
    - x86/mpx: Correctly report do_mpx_bt_fault() failures to user-space
    - x86/mm: Fix flush_tlb_page() on Xen
    - ocfs2: o2hb: revert hb threshold to keep compatible
    - ocfs2: fix deadlock caused by recursive locking in xattr
    - iommu/dma: Don't reserve PCI I/O windows
    - iommu/amd: Fix incorrect error handling in amd_iommu_bind_pasid()
    - iommu/amd: Fix interrupt remapping when disable guest_mode
    - infiniband: hns: avoid gcc-7.0.1 warning for uninitialized data
    - mtd: nand: brcmnand: Check flash #WP pin status before nand erase/program
    - mtd: nand: fsmc: fix NAND width handling
    - KVM: x86: fix emulation of RSM and IRET instructions
    - KVM: x86/vPMU: fix undefined shift in intel_pmu_refresh()
    - KVM: x86: zero base3 of unusable segments
    - KVM: nVMX: Fix exception injection
    - esp4: Fix udpencap for local TCP packets.
    - hsi: Fix build regression due to netdev destructor fix.
    - Linux 4.11.9
  * update ENA driver to 1.2.0k from net-next (LP: #1701575)
    - net/ena: switch to pci_alloc_irq_vectors
    - net: ena: fix rare uncompleted admin command false alarm
    - net: ena: fix bug that might cause hang after consecutive open/close
      interface.
    - net: ena: add missing return when ena_com_get_io_handlers() fails
    - net: ena: fix race condition between submit and completion admin command
    - net: ena: add missing unmap bars on device removal
    - net: ena: fix theoretical Rx hang on low memory systems
    - net: ena: disable admin msix while working in polling mode
    - net: ena: bug fix in lost tx packets detection mechanism
    - net: ena: update ena driver to version 1.1.7
    - net: ena: change return value for unsupported features unsupported return
      value
    - net: ena: add hardware hints capability to the driver
    - net: ena: change sizeof() argument to be the type pointer
    - net: ena: add reset reason for each device FLR
    - net: ena: add support for out of order rx buffers refill
    - net: ena: allow the driver to work with small number of msix vectors
    - net: ena: use napi_schedule_irqoff when possible
    - net: ena: separate skb allocation to dedicated function
    - net: ena: use lower_32_bits()/upper_32_bits() to split dma address
    - net: ena: update driver's rx drop statistics
    - net: ena: update ena driver to version 1.2.0
  * APST gets enabled against explicit kernel option (LP: #1699004)
    - nvme: Display raw APST configuration via DYNAMIC_DEBUG
    - nvme: Add nvme_core.force_apst to ignore the NO_APST quirk
    - nvme: explicitly disable APST on quirked devices
  * New NVLINK2 patches (LP: #1701272)
    - powerpc/powernv/npu-dma: Add explicit flush when sending an ATSD
    - powerpc/npu-dma: Remove spurious WARN_ON when a PCI device has no of_node
  * ERAT invalidate on context switch removal (LP: #1700819)
    - powerpc: Only do ERAT invalidate on radix context switch on P9 DD1
  * Miscellaneous Ubuntu changes
    - SAUCE: (noup) Update spl to 0.6.5.10-1, zfs to 0.6.5.10-1ubuntu2
    - snapcraft.yaml: Sync with xenial
  * Miscellaneous upstream changes
    - Revert "UBUNTU: SAUCE: (efi-lockdown) efi: Add sysctls for secureboot and
      MokSBState"

 -- Andy Whitcroft <apw@canonical.com>  Thu, 13 Jul 2017 17:52:36 +0100

linux-raspi2 (4.11.0-1003.4) artful; urgency=low

  * linux-raspi2: 4.11.0-1003.4 -proposed tracker (LP: #1702168)

  * Cherry pick updates from https://github.com/raspberrypi/linux rpi-4.11.y
    up to commit 64b5f5825a998d745801c2682e686423e88a0e93
    - SQUASH: mmc: Apply ERASE_BROKEN quirks correctly

  [ Ubuntu: 4.11.0-10.15 ]

  * Artful update to v4.11.8 stable release (LP: #1701269)
    - clk: sunxi-ng: a31: Correct lcd1-ch1 clock register offset
    - clk: sunxi-ng: v3s: Fix usb otg device reset bit
    - clk: sunxi-ng: sun5i: Fix ahb_bist_clk definition
    - xen/blkback: fix disconnect while I/Os in flight
    - xen-blkback: don't leak stack data via response ring
    - ALSA: firewire-lib: Fix stall of process context at packet error
    - ALSA: pcm: Don't treat NULL chmap as a fatal error
    - ALSA: hda - Add Coffelake PCI ID
    - ALSA: hda - Apply quirks to Broxton-T, too
    - fs/exec.c: account for argv/envp pointers
    - powerpc/perf: Fix oops when kthread execs user process
    - autofs: sanity check status reported with AUTOFS_DEV_IOCTL_FAIL
    - fs/dax.c: fix inefficiency in dax_writeback_mapping_range()
    - lib/cmdline.c: fix get_options() overflow while parsing ranges
    - perf/x86/intel: Add 1G DTLB load/store miss support for SKL
    - perf probe: Fix probe definition for inlined functions
    - KVM: x86: fix singlestepping over syscall
    - KVM: MIPS: Fix maybe-uninitialized build failure
    - KVM: s390: gaccess: fix real-space designation asce handling for gmap
      shadows
    - KVM: PPC: Book3S HV: Cope with host using large decrementer mode
    - KVM: PPC: Book3S HV: Preserve userspace HTM state properly
    - KVM: PPC: Book3S HV: Ignore timebase offset on POWER9 DD1
    - KVM: PPC: Book3S HV: Context-switch EBB registers properly
    - KVM: PPC: Book3S HV: Restore critical SPRs to host values on guest exit
    - KVM: PPC: Book3S HV: Save/restore host values of debug registers
    - CIFS: Improve readdir verbosity
    - CIFS: Fix some return values in case of error in 'crypt_message'
    - cxgb4: notify uP to route ctrlq compl to rdma rspq
    - HID: Add quirk for Dell PIXART OEM mouse
    - random: silence compiler warnings and fix race
    - signal: Only reschedule timers on signals timers have sent
    - powerpc/kprobes: Pause function_graph tracing during jprobes handling
    - powerpc/64s: Handle data breakpoints in Radix mode
    - Input: i8042 - add Fujitsu Lifebook AH544 to notimeout list
    - brcmfmac: add parameter to pass error code in firmware callback
    - brcmfmac: use firmware callback upon failure to load
    - brcmfmac: unbind all devices upon failure in firmware callback
    - time: Fix clock->read(clock) race around clocksource changes
    - time: Fix CLOCK_MONOTONIC_RAW sub-nanosecond accounting
    - arm64/vdso: Fix nsec handling for CLOCK_MONOTONIC_RAW
    - target: Fix kref->refcount underflow in transport_cmd_finish_abort
    - iscsi-target: Fix delayed logout processing greater than
      SECONDS_FOR_LOGOUT_COMP
    - iscsi-target: Reject immediate data underflow larger than SCSI transfer
      length
    - drm/radeon: add a PX quirk for another K53TK variant
    - drm/radeon: add a quirk for Toshiba Satellite L20-183
    - drm/amdgpu/atom: fix ps allocation size for EnableDispPowerGating
    - drm/amdgpu: adjust default display clock
    - drm/amdgpu: add Polaris12 DID
    - ACPI / scan: Apply default enumeration to devices with ACPI drivers
    - ACPI / scan: Fix enumeration for special SPI and I2C devices
    - rxrpc: Fix several cases where a padded len isn't checked in ticket decode
    - drm: Fix GETCONNECTOR regression
    - usb: gadget: f_fs: avoid out of bounds access on comp_desc
    - spi: double time out tolerance
    - net: phy: fix marvell phy status reading
    - brcmfmac: fix uninitialized warning in brcmf_usb_probe_phase2()
    - Linux 4.11.8
  * powerpc: Invalidate ERAT on powersave wakeup for POWER9 (LP: #1700521)
    - SAUCE: powerpc: Invalidate ERAT on powersave wakeup for POWER9
  * Miscellaneous Ubuntu changes
    - d-i: Move qcom-emac from arm64 to shared nic-modules

 -- Seth Forshee <seth.forshee@canonical.com>  Mon, 03 Jul 2017 15:05:50 -0500

linux-raspi2 (4.11.0-1002.3) artful; urgency=low

  * linux-raspi2: 4.11.0-1002.3 -proposed tracker (LP: #1700612)

  * Cherry pick updates from https://github.com/raspberrypi/linux rpi-4.11.y
    up to commit 13a75e97dca4e3f3ca286a44162629bd32bfe4c8
    - dwc_otg: add module parameter int_ep_interval_min
    - dwc_otg: fiq_fsm: Add non-periodic TT exclusivity constraints
    - serial: 8250: Fix THRE flag usage for CAP_MINI
    - BCM270X_DT: Add midi-uart1 overlay
    - overlays: README: remove vestigial SDIO parameters

  * Add CONFIG_CRASH_DUMP annotation for arm64
    - [Config] Add CONFIG_CRASH_DUMP annotation for arm64

  [ Ubuntu: 4.11.0-9.14 ]

  * linux: 4.11.0-9.14 -proposed tracker (LP: #1700537)
  * Artful update to v4.11.7 stable release (LP: #1700372)
    - Revert "Allow stack to grow up to address space limit"
    - Revert "UBUNTU: SAUCE: mm: fix new crash in unmapped_area_topdown()"
    - Revert "mm: larger stack guard gap, between vmas"
    - fs: pass on flags in compat_writev
    - configfs: Fix race between create_link and configfs_rmdir
    - can: gs_usb: fix memory leak in gs_cmd_reset()
    - ila_xlat: add missing hash secret initialization
    - cpufreq: conservative: Allow down_threshold to take values from 1 to 10
    - vb2: Fix an off by one error in 'vb2_plane_vaddr'
    - cec: race fix: don't return -ENONET in cec_receive()
    - selinux: fix double free in selinux_parse_opts_str()
    - mac80211: don't look at the PM bit of BAR frames
    - mac80211/wpa: use constant time memory comparison for MACs
    - drm: mxsfb_crtc: Reset the eLCDIF controller
    - drm/amdgpu: Fix overflow of watermark calcs at > 4k resolutions.
    - drm/i915: Fix GVT-g PVINFO version compatibility check
    - drm/i915: Fix scaling check for 90/270 degree plane rotation
    - drm/i915: Do not sync RCU during shrinking
    - mac80211: fix IBSS presp allocation size
    - mac80211: strictly check mesh address extension mode
    - mac80211: fix dropped counter in multiqueue RX
    - mac80211: don't send SMPS action frame in AP mode when not needed
    - drm/mediatek: fix mtk_hdmi_setup_vendor_specific_infoframe mistake
    - drm/vc4: Fix OOPSes from trying to cache a partially constructed BO.
    - serial: efm32: Fix parity management in 'efm32_uart_console_get_options()'
    - serial: 8250_lpss: Unconditionally set PCI master for Quark
    - serial: sh-sci: Fix (AUTO)RTS in sci_init_pins()
    - serial: sh-sci: Fix late enablement of AUTORTS
    - x86/mm/32: Set the '__vmalloc_start_set' flag in initmem_init()
    - mfd: omap-usb-tll: Fix inverted bit use for USB TLL mode
    - mfd: axp20x: Add support for dts property "xpowers,master-mode"
    - dt-bindings: mfd: axp20x: Add "xpowers,master-mode" property for AXP806
      PMICs
    - mfd: cpcap: Fix interrupt to use level interrupt
    - mfd: cpcap: Use ack_invert interrupts
    - mfd: cpcap: Fix bad use of IRQ sense register
    - phy: rcar-gen3-usb2: fix implementation for runtime PM
    - mtd: physmap_of: really fix the physmap add-ons
    - powerpc/mm: Add physical address to Linux page table dump
    - staging: rtl8188eu: prevent an underflow in rtw_check_beacon_data()
    - staging: bcm2835-camera: fix error handling in init
    - staging: iio: tsl2x7x_core: Fix standard deviation calculation
    - iio: imu: st_lsm6dsx: do not apply ODR configuration in write_raw handler
    - iio: proximity: as3935: recalibrate RCO after resume
    - iio: adc: ti_am335x_adc: allocating too much in probe
    - ALSA: hda: Add Geminilake id to SKL_PLUS
    - ALSA: usb-audio: fix Amanero Combo384 quirk on big-endian hosts
    - usb: gadget: udc: renesas_usb3: fix pm_runtime functions calling
    - usb: gadget: udc: renesas_usb3: fix deadlock by spinlock
    - usb: gadget: udc: renesas_usb3: lock for PN_ registers access
    - USB: hub: fix SS max number of ports
    - usb: core: fix potential memory leak in error path during hcd creation
    - USB: usbip: fix nonconforming hub descriptor
    - usb: dwc3: gadget: Fix ISO transfer performance
    - pvrusb2: reduce stack usage pvr2_eeprom_analyze()
    - USB: gadget: dummy_hcd: fix hub-descriptor removable fields
    - usb: r8a66597-hcd: select a different endpoint on timeout
    - usb: r8a66597-hcd: decrease timeout
    - coda: restore original firmware locations
    - drivers/misc/c2port/c2port-duramar2150.c: checking for NULL instead of
      IS_ERR()
    - usb: xhci: Fix USB 3.1 supported protocol parsing
    - usb: xhci: ASMedia ASM1042A chipset need shorts TX quirk
    - USB: gadget: fix GPF in gadgetfs
    - USB: gadgetfs, dummy-hcd, net2280: fix locking for callbacks
    - mm/memory-failure.c: use compound_head() flags for huge pages
    - swap: cond_resched in swap_cgroup_prepare()
    - mm: numa: avoid waiting on freed migrated pages
    - userfaultfd: shmem: handle coredumping in handle_userfault()
    - iio: imu: inv_mpu6050: add accel lpf setting for chip >= MPU6500
    - staging: iio: ad7152: Fix deadlock in ad7152_write_raw_samp_freq()
    - iio: adc: meson-saradc: fix potential crash in meson_sar_adc_clear_fifo
    - sched/core: Idle_task_exit() shouldn't use switch_mm_irqs_off()
    - genirq: Release resources in __setup_irq() error path
    - alarmtimer: Prevent overflow of relative timers
    - alarmtimer: Rate limit periodic intervals
    - virtio_balloon: disable VIOMMU support
    - MIPS: Fix bnezc/jialc return address calculation
    - MIPS: .its targets depend on vmlinux
    - crypto: Work around deallocated stack frame reference gcc bug on sparc.
    - ARM: dts: am335x-sl50: Fix card detect pin for mmc1
    - ARM: dts: am335x-sl50: Fix cannot claim requested pins for spi0
    - mm: larger stack guard gap, between vmas
    - Allow stack to grow up to address space limit
    - mm: fix new crash in unmapped_area_topdown()
    - Linux 4.11.7
  * aacraid driver may return uninitialized stack data to userspace
    (LP: #1700077)
    - SAUCE: scsi: aacraid: Don't copy uninitialized stack memory to userspace
  * KILLER1435-S[0489:e0a2] BT cannot search BT 4.0 device (LP: #1699651)
    - Bluetooth: btusb: Add support for 0489:e0a2 QCA_ROME device
  * arm64 kernel crashdump support (LP: #1694859)
    - memblock: add memblock_clear_nomap()
    - memblock: add memblock_cap_memory_range()
    - arm64: limit memory regions based on DT property, usable-memory-range
    - arm64: kdump: reserve memory for crash dump kernel
    - arm64: mm: add set_memory_valid()
    - arm64: kdump: protect crash dump kernel memory
    - arm64: hibernate: preserve kdump image around hibernation
    - arm64: kdump: implement machine_crash_shutdown()
    - arm64: kdump: add VMCOREINFO's for user-space tools
    - [Config] CONFIG_CRASH_DUMP=y on arm64
    - arm64: kdump: provide /proc/vmcore file
    - Documentation: kdump: describe arm64 port
    - Documentation: dt: chosen properties for arm64 kdump
    - efi/libstub/arm*: Set default address and size cells values for an empty dtb
  * AACRAID for power9 platform (LP: #1689980)
    - scsi: aacraid: pci_alloc_consistent() failures on ARM64
    - scsi: aacraid: Remove __GFP_DMA for raw srb memory
    - scsi: aacraid: Fix DMAR issues with iommu=pt
    - scsi: aacraid: Added 32 and 64 queue depth for arc natives
    - scsi: aacraid: Set correct Queue Depth for HBA1000 RAW disks
    - scsi: aacraid: Remove reset support from check_health
    - scsi: aacraid: Change wait time for fib completion
    - scsi: aacraid: Log count info of scsi cmds before reset
    - scsi: aacraid: Print ctrl status before eh reset
    - scsi: aacraid: Using single reset mask for IOP reset
    - scsi: aacraid: Rework IOP reset
    - scsi: aacraid: Add periodic checks to see IOP reset status
    - scsi: aacraid: Rework SOFT reset code
    - scsi: aacraid: Rework aac_src_restart
    - scsi: aacraid: Use correct function to get ctrl health
    - scsi: aacraid: Make sure ioctl returns on controller reset
    - scsi: aacraid: Enable ctrl reset for both hba and arc
    - scsi: aacraid: Add reset debugging statements
    - scsi: aacraid: Remove reference to Series-9
    - scsi: aacraid: Update driver version to 50834
  * Miscellaneous upstream changes
    - Allow stack to grow up to address space limit

 -- Seth Forshee <seth.forshee@canonical.com>  Mon, 26 Jun 2017 12:16:43 -0500

linux-raspi2 (4.11.0-1001.2) artful; urgency=low

  * linux-raspi2: 4.11.0-1001.2 -proposed tracker (LP: #1699556)

  [ Ubuntu: 4.11.0-8.13 ]

  * Release Tracking Bug
    - LP: #1699184
  * hibmc driver does not include "pci:" prefix in bus ID (LP: #1698700)
    - SAUCE: drm: hibmc: Use set_busid function from drm core
  * HiSilicon D05: installer doesn't appear on VGA (LP: #1698954)
    - d-i: Add hibmc-drm to kernel-image udeb
  * Fix /proc/cpuinfo revision for POWER9 DD2 (LP: #1698844)
    - SAUCE: powerpc: Fix /proc/cpuinfo revision for POWER9 DD2
  * Miscellaneous Ubuntu changes
    - SAUCE: mm: fix new crash in unmapped_area_topdown()

  [ Ubuntu: 4.11.0-7.12 ]

  * Release Tracking Bug
    - LP: #1698881
  * CVE-2017-1000364
    - mm: larger stack guard gap, between vmas
  * Artful update to v4.11.6 stable release (LP: #1698800)
    - drm/i915: Do not drop pagetables when empty
    - PCI/PM: Add needs_resume flag to avoid suspend complete optimization
    - drm/i915: Prevent the system suspend complete optimization
    - partitions/msdos: FreeBSD UFS2 file systems are not recognized
    - efi: Fix boot panic because of invalid BGRT image address
    - xtensa: don't use linux IRQ #0
    - s390/kvm: do not rely on the ILC on kvm host protection fauls
    - Revert "drm/i915: Restore lost "Initialized i915" welcome message"
    - drm/i915: Fix 90/270 rotated coordinates for FBC
    - drm/i915: Workaround VLV/CHV DSI scanline counter hardware fail
    - drm/i915: Guard against i915_ggtt_disable_guc() being invoked
      unconditionally
    - drm/i915: Always recompute watermarks when distrust_bios_wm is set, v2.
    - drm/i915: Disable decoupled MMIO
    - Linux 4.11.6
  * Bugfixes for  hns network driver (LP: #1696031)
    - net: hns: Fix the implementation of irq affinity function
    - net: hns: Modify GMAC init TX threshold value
    - net: hns: Optimize the code for GMAC pad and crc Config
    - net: hns: Remove redundant memset during buffer release
    - net: hns: bug fix of ethtool show the speed
    - net: hns: Optimize hns_nic_common_poll for better performance
    - net: hns: Fix to adjust buf_size of ring according to mtu
    - net: hns: Replace netif_tx_lock to ring spin lock
    - net: hns: Correct HNS RSS key set function
    - net: hns: Remove the redundant adding and deleting mac function
    - net: hns: Remove redundant mac_get_id()
    - net: hns: Remove redundant mac table operations
    - net: hns: Clean redundant code from hns_mdio.c file
    - net: hns: Optimise the code in hns_mdio_wait_ready()
    - net: hns: Simplify the exception sequence in hns_ppe_init()
    - net: hns: Adjust the SBM module buffer threshold
    - net: hns: Avoid Hip06 chip TX packet line bug
    - net: hns: Some checkpatch.pl script & warning fixes
    - net: hns: support deferred probe when can not obtain irq
    - net: hns: support deferred probe when no mdio
    - net: hns: fix ethtool_get_strings overflow in hns driver
  * OpenPower: Some multipaths temporarily have only a single path
    (LP: #1696445)
    - scsi: ses: don't get power status of SES device slot on probe
  * Artful update to v4.11.5 stable release (LP: #1697955)
    - bnx2x: Fix Multi-Cos
    - net: bridge: start hello timer only if device is up
    - vxlan: eliminate cached dst leak
    - net: systemport: Fix missing Wake-on-LAN interrupt for SYSTEMPORT Lite
    - ipv6: xfrm: Handle errors reported by xfrm6_find_1stfragopt()
    - cxgb4: avoid enabling napi twice to the same queue
    - tcp: disallow cwnd undo when switching congestion control
    - vxlan: fix use-after-free on deletion
    - ip6_tunnel: fix traffic class routing for tunnels
    - sock: reset sk_err when the error queue is empty
    - geneve: fix needed_headroom and max_mtu for collect_metadata
    - ipv6: Fix leak in ipv6_gso_segment().
    - net: dsa: Fix stale cpu_switch reference after unbind then bind
    - net: ping: do not abuse udp_poll()
    - net/ipv6: Fix CALIPSO causing GPF with datagram support
    - ravb: Fix use-after-free on `ifconfig eth0 down`
    - net: bridge: fix a null pointer dereference in br_afspec
    - net: ethoc: enable NAPI before poll may be scheduled
    - net: stmmac: fix completely hung TX when using TSO
    - sparc64: Add __multi3 for gcc 7.x and later.
    - sparc64: mm: fix copy_tsb to correctly copy huge page TSBs
    - sparc: Machine description indices can vary
    - sparc/mm/hugepages: Fix setup_hugepagesz for invalid values.
    - sparc64: reset mm cpumask after wrap
    - sparc64: combine activate_mm and switch_mm
    - sparc64: redefine first version
    - sparc64: add per-cpu mm of secondary contexts
    - sparc64: new context wrap
    - sparc64: delete old wrap code
    - arch/sparc: support NR_CPUS = 4096
    - ftrace: Fix memory leak in ftrace_graph_release()
    - serial: exar: Fix stuck MSIs
    - serial: ifx6x60: fix use-after-free on module unload
    - serial: core: fix crash in uart_suspend_port
    - ptrace: Properly initialize ptracer_cred on fork
    - ARM: dts: keystone-k2l: fix broken Ethernet due to disabled OSR
    - crypto: asymmetric_keys - handle EBUSY due to backlog correctly
    - KEYS: fix dereferencing NULL payload with nonzero length
    - KEYS: fix freeing uninitialized memory in key_update()
    - KEYS: encrypted: avoid encrypting/decrypting stack buffers
    - crypto: drbg - wait for crypto op not signal safe
    - crypto: gcm - wait for crypto op not signal safe
    - ovl: fix creds leak in copy up error path
    - kthread: Fix use-after-free if kthread fork fails
    - drm/amdgpu/ci: disable mclk switching for high refresh rates (v2)
    - nfsd4: fix null dereference on replay
    - gfs2: Make flush bios explicitely sync
    - efi: Don't issue error message when booted under Xen
    - efi/bgrt: Skip efi_bgrt_init() in case of non-EFI boot
    - kvm: async_pf: fix rcu_irq_enter() with irqs enabled
    - KVM: cpuid: Fix read/write out-of-bounds vulnerability in cpuid emulation
    - arm64: KVM: Preserve RES1 bits in SCTLR_EL2
    - arm64: KVM: Allow unaligned accesses at EL2
    - arm: KVM: Allow unaligned accesses at HYP
    - KVM: async_pf: avoid async pf injection when in guest mode
    - dmaengine: usb-dmac: Fix DMAOR AE bit definition
    - dmaengine: ep93xx: Always start from BASE0
    - dmaengine: ep93xx: Don't drain the transfers in terminate_all()
    - dmaengine: mv_xor_v2: handle mv_xor_v2_prep_sw_desc() error properly
    - dmaengine: mv_xor_v2: properly handle wrapping in the array of HW
      descriptors
    - dmaengine: mv_xor_v2: do not use descriptors not acked by async_tx
    - dmaengine: mv_xor_v2: enable XOR engine after its configuration
    - dmaengine: mv_xor_v2: fix tx_submit() implementation
    - dmaengine: mv_xor_v2: remove interrupt coalescing
    - dmaengine: mv_xor_v2: set DMA mask to 40 bits
    - cfq-iosched: fix the delay of cfq_group's vdisktime under iops mode
    - reiserfs: Make flush bios explicitely sync
    - mtd: nand: tango: Export OF device ID table as module aliases
    - mtd: nand: tango: Update ecc_stats.corrected
    - xen/privcmd: Support correctly 64KB page granularity when mapping memory
    - ext4: fix SEEK_HOLE
    - ext4: keep existing extra fields when inode expands
    - ext4: fix data corruption with EXT4_GET_BLOCKS_ZERO
    - ext4: fix fdatasync(2) after extent manipulation operations
    - drm: Fix oops + Xserver hang when unplugging USB drm devices
    - usb: gadget: f_mass_storage: Serialize wake and sleep execution
    - usb: musb: dsps: keep VBUS on for host-only mode
    - usb: chipidea: imx: Do not access CLKONOFF on i.MX51
    - usb: chipidea: udc: fix NULL pointer dereference if udc_start failed
    - usb: chipidea: debug: check before accessing ci_role
    - staging/lustre/lov: remove set_fs() call from lov_getstripe()
    - iio: adc: bcm_iproc_adc: swap primary and secondary isr handler's
    - iio: light: ltr501 Fix interchanged als/ps register field
    - iio: trigger: fix NULL pointer dereference in iio_trigger_write_current()
    - iio: proximity: as3935: fix AS3935_INT mask
    - iio: proximity: as3935: fix iio_trigger_poll issue
    - block: Avoid that blk_exit_rl() triggers a use-after-free
    - mei: make sysfs modalias format similar as uevent modalias
    - random: invalidate batched entropy after crng init
    - cpufreq: cpufreq_register_driver() should return -ENODEV if init fails
    - target: Re-add check to reject control WRITEs with overflow data
    - drm/msm: Expose our reservation object when exporting a dmabuf.
    - drm/msm/mdp5: use __drm_atomic_helper_plane_duplicate_state()
    - ahci: Acer SA5-271 SSD Not Detected Fix
    - rc-core: race condition during ir_raw_event_register()
    - cgroup: Prevent kill_css() from being called more than once
    - Input: elantech - add Fujitsu Lifebook E546/E557 to force crc_enabled
    - cpuset: consider dying css as offline
    - ufs: restore proper tail allocation
    - fix ufs_isblockset()
    - ufs: restore maintaining ->i_blocks
    - ufs: set correct ->s_maxsize
    - ufs_extend_tail(): fix the braino in calling conventions of
      ufs_new_fragments()
    - ufs_getfrag_block(): we only grab ->truncate_mutex on block creation path
    - excessive checks in ufs_write_failed() and ufs_evict_inode()
    - cxl: Fix error path on bad ioctl
    - cxl: Avoid double free_irq() for psl,slice interrupts
    - btrfs: use correct types for page indices in btrfs_page_exists_in_range
    - btrfs: fix memory leak in update_space_info failure path
    - btrfs: fix race with relocation recovery and fs_root setup
    - Btrfs: fix delalloc accounting leak caused by u32 overflow
    - KVM: arm/arm64: Handle possible NULL stage2 pud when ageing pages
    - scsi: qla2xxx: don't disable a not previously enabled PCI device
    - scsi: qla2xxx: Fix recursive loop during target mode configuration for
      ISP25XX leaving system unresponsive
    - scsi: qla2xxx: Fix crash due to mismatch mumber of Q-pair creation for Multi
      queue
    - scsi: qla2xxx: Fix NULL pointer access due to redundant fc_host_port_name
      call
    - scsi: qla2xxx: Modify T262 FW dump template to specify same start/end to
      debug customer issues
    - scsi: qla2xxx: Set bit 15 for DIAG_ECHO_TEST MBC
    - scsi: qla2xxx: Fix mailbox pointer error in fwdump capture
    - powerpc/sysdev/simple_gpio: Fix oops in gpio save_regs function
    - powerpc/numa: Fix percpu allocations to be NUMA aware
    - powerpc/hotplug-mem: Fix missing endian conversion of aa_index
    - powerpc/kernel: Fix FP and vector register restoration
    - powerpc/kernel: Initialize load_tm on task creation
    - Revert "ata: sata_mv: Convert to devm_ioremap_resource()"
    - perf/core: Drop kernel samples even though :u is specified
    - srcu: Allow use of Classic SRCU from both process and interrupt context
    - net: qcom/emac: do not use hardware mdio automatic polling
    - drm/vmwgfx: Handle vmalloc() failure in vmw_local_fifo_reserve()
    - drm/vmwgfx: limit the number of mip levels in vmw_gb_surface_define_ioctl()
    - drm/vmwgfx: Make sure backup_handle is always valid
    - x86/microcode/intel: Clear patch pointer before jettisoning the initrd
    - drm/nouveau/tmr: fully separate alarm execution/pending lists
    - ALSA: timer: Fix race between read and ioctl
    - ALSA: timer: Fix missing queue indices reset at SNDRV_TIMER_IOCTL_SELECT
    - ASoC: Fix use-after-free at card unregistration
    - cpu/hotplug: Drop the device lock on error
    - drivers: char: mem: Fix wraparound check to allow mappings up to the end
    - drm/i915: Fix runtime PM for LPE audio
    - drm/i915/skl: Add missing SKL ID
    - serial: sh-sci: Fix panic when serial console and DMA are enabled
    - pinctrl: cherryview: Add terminate entry for dmi_system_id tables
    - cgroup: mark cgroup_get() with __maybe_unused
    - iomap_dio_rw: Prevent reading file data beyond iomap_dio->i_size
    - hwmon: (coretemp) Handle frozen hotplug state correctly
    - audit: fix the RCU locking for the auditd_connection structure
    - drm/i915/vbt: don't propagate errors from intel_bios_init()
    - drm/i915/vbt: split out defaults that are set when there is no VBT
    - netfilter: nft_set_rbtree: handle element re-addition after deletion
    - kthread: fix boot hang (regression) on MIPS/OpenRISC
    - Linux 4.11.5

 -- Seth Forshee <seth.forshee@canonical.com>  Wed, 21 Jun 2017 11:57:53 -0500

linux-raspi2 (4.11.0-1000.1) artful; urgency=low

  [ Seth Forshee ]

  * Release Tracking Bug
    - LP: #1697946

  * Import rpi patchs from https://github.com/raspberrypi/linux rpi-4.11.y
    up to commit 935308cd9976d3ced653ffd73be5fdeb2e8c71b5

  * Initial raspi2 packaging and configs

  [ Ubuntu: 4.11.0-6.11 ]

  * Release Tracking Bug
    - LP: #1697022
  * CVE-2014-9900
    - SAUCE: (no-up) net: Zeroing the structure ethtool_wolinfo in
      ethtool_get_wol()
  * hisi_sas driver updates (LP: #1695999)
    - scsi: hisi_sas: add to_hisi_sas_port()
    - scsi: hisi_sas: add controller reset
    - scsi: hisi_sas: move PHY init to hisi_sas_scan_start()
    - scsi: hisi_sas: add softreset function for SATA disk
    - scsi: hisi_sas: remove hisi_sas_port_deformed()
    - scsi: hisi_sas: error hisi_sas_task_prep() when port down
    - scsi: hisi_sas: only reset link for PHY_FUNC_LINK_RESET
    - scsi: hisi_sas: modify error handling for v2 hw
    - scsi: hisi_sas: modify hisi_sas_abort_task() for SSP
    - scsi: hisi_sas: hardreset for SATA disk in LU reset
    - scsi: hisi_sas: check for SAS_TASK_STATE_ABORTED in slot complete
    - scsi: hisi_sas: free slots after hardreset
    - scsi: hisi_sas: fix some sas_task.task_state_lock locking
    - scsi: hisi_sas: remove task free'ing for timeouts
    - scsi: hisi_sas: process error codes according to their priority
    - scsi: hisi_sas: some modifications to v2 hw reg init values
    - scsi: hisi_sas: handle PHY UP+DOWN simultaneous irq
    - scsi: hisi_sas: rename hisi_sas_link_timeout_{enable, disable}_link
    - scsi: hisi_sas: add hisi_sas_clear_nexus_ha()
    - scsi: hisi_sas: release SMP slot in lldd_abort_task
    - scsi: hisi_sas: check hisi_sas_lu_reset() error message
    - scsi: hisi_sas: use dev_is_sata to identify SATA or SAS disk
    - scsi: hisi_sas: add is_sata_phy_v2_hw()
    - scsi: hisi_sas: add missing break in switch statement
    - scsi: hisi_sas: fix SATA dependency
    - scsi: hisi_sas: workaround STP link SoC bug
    - scsi: hisi_sas: workaround a SoC SATA IO processing bug
    - scsi: hisi_sas: workaround SoC about abort timeout bug
    - scsi: hisi_sas: add v2 hw internal abort timeout workaround
    - scsi: hisi_sas: fix NULL deference when TMF timeouts
    - scsi: hisi_sas: controller reset for multi-bits ECC and AXI fatal errors
  * [SRU][Zesty] Support SMMU passthrough using the default domain
    (LP: #1688158)
    - iommu/arm-smmu: Restrict domain attributes to UNMANAGED domains
    - iommu/arm-smmu: Install bypass S2CRs for IOMMU_DOMAIN_IDENTITY domains
    - iommu/arm-smmu-v3: Make arm_smmu_install_ste_for_dev return void
    - iommu/arm-smmu-v3: Install bypass STEs for IOMMU_DOMAIN_IDENTITY domains
    - iommu: Allow default domain type to be set on the kernel command line
  * [Zesty] QDF2400 ARM64 server - NMI watchdog: BUG: soft lockup - CPU#8 stuck
    for 22s!  (LP: #1680549)
    - iommu/dma: Convert to address-based allocation
    - iommu/dma: Clean up MSI IOVA allocation
    - iommu/dma: Plumb in the per-CPU IOVA caches
    - iommu/iova: Fix underflow bug in __alloc_and_insert_iova_range
  * Artful update to v4.11.4 stable release (LP: #1696723)
    - dccp/tcp: do not inherit mc_list from parent
    - driver: vrf: Fix one possible use-after-free issue
    - ipv6/dccp: do not inherit ipv6_mc_list from parent
    - s390/qeth: handle sysfs error during initialization
    - s390/qeth: unbreak OSM and OSN support
    - s390/qeth: avoid null pointer dereference on OSN
    - s390/qeth: add missing hash table initializations
    - bpf, arm64: fix faulty emission of map access in tail calls
    - netem: fix skb_orphan_partial()
    - net: fix compile error in skb_orphan_partial()
    - tcp: avoid fragmenting peculiar skbs in SACK
    - tipc: make macro tipc_wait_for_cond() smp safe
    - sctp: fix src address selection if using secondary addresses for ipv6
    - sctp: do not inherit ipv6_{mc|ac|fl}_list from parent
    - net/packet: fix missing net_device reference release
    - net/mlx5e: Use the correct pause values for ethtool advertising
    - net/mlx5e: Fix ethtool pause support and advertise reporting
    - tcp: eliminate negative reordering in tcp_clean_rtx_queue
    - smc: switch to usage of IB_PD_UNSAFE_GLOBAL_RKEY
    - net/smc: Add warning about remote memory exposure
    - net: Improve handling of failures on link and route dumps
    - ipv6: Prevent overrun when parsing v6 header options
    - ipv6: Check ip6_find_1stfragopt() return value properly.
    - bridge: netlink: check vlan_default_pvid range
    - qmi_wwan: add another Lenovo EM74xx device ID
    - bridge: start hello_timer when enabling KERNEL_STP in br_stp_start
    - ipv6: fix out of bound writes in __ip6_append_data()
    - bonding: fix accounting of active ports in 3ad
    - net/mlx5: Avoid using pending command interface slots
    - net: phy: marvell: Limit errata to 88m1101
    - vlan: Fix tcp checksum offloads in Q-in-Q vlans
    - be2net: Fix offload features for Q-in-Q packets
    - virtio-net: enable TSO/checksum offloads for Q-in-Q vlans
    - geneve: fix fill_info when using collect_metadata
    - tcp: avoid fastopen API to be used on AF_UNSPEC
    - sctp: fix ICMP processing if skb is non-linear
    - ip6_tunnel, ip6_gre: fix setting of DSCP on encapsulated packets
    - ipv4: add reference counting to metrics
    - bpf: add bpf_clone_redirect to bpf_helper_changes_pkt_data
    - bpf: fix wrong exposure of map_flags into fdinfo for lpm
    - bpf: adjust verifier heuristics
    - sparc64: Fix mapping of 64k pages with MAP_FIXED
    - sparc: Fix -Wstringop-overflow warning
    - sparc/ftrace: Fix ftrace graph time measurement
    - fs/ufs: Set UFS default maximum bytes per file
    - powerpc: Fix booting P9 hash with CONFIG_PPC_RADIX_MMU=N
    - powerpc/spufs: Fix hash faults for kernel regions
    - Revert "tty_port: register tty ports with serdev bus"
    - serdev: fix tty-port client deregistration
    - i2c: i2c-tiny-usb: fix buffer not being DMA capable
    - crypto: skcipher - Add missing API setkey checks
    - Revert "ACPI / button: Remove lid_init_state=method mode"
    - x86/MCE: Export memory_error()
    - acpi, nfit: Fix the memory error check in nfit_handle_mce()
    - ACPI / sysfs: fix acpi_get_table() leak / acpi-sysfs denial of service
    - ACPICA: Tables: Fix regression introduced by a too early mechanism enabling
    - Revert "ACPI / button: Change default behavior to lid_init_state=open"
    - mmc: sdhci-iproc: suppress spurious interrupt with Multiblock read
    - scsi: zero per-cmd private driver data for each MQ I/O
    - iscsi-target: Always wait for kthread_should_stop() before kthread exit
    - iscsi-target: Fix initial login PDU asynchronous socket close OOPs
    - scsi: scsi_dh_rdac: Use ctlr directly in rdac_failover_get()
    - ibmvscsis: Clear left-over abort_cmd pointers
    - ibmvscsis: Fix the incorrect req_lim_delta
    - HID: wacom: Have wacom_tpc_irq guard against possible NULL dereference
    - nvme-rdma: support devices with queue size < 32
    - nvme: use blk_mq_start_hw_queues() in nvme_kill_queues()
    - nvme: avoid to use blk_mq_abort_requeue_list()
    - drm/amd/powerplay/smu7: add vblank check for mclk switching (v2)
    - drm/amd/powerplay/smu7: disable mclk switching for high refresh rates
    - drm/radeon/ci: disable mclk switching for high refresh rates (v2)
    - drm/radeon: Unbreak HPD handling for r600+
    - pcmcia: remove left-over %Z format
    - ALSA: hda - No loopback on ALC299 codec
    - ALSA: hda - apply STAC_9200_DELL_M22 quirk for Dell Latitude D430
    - Revert "ALSA: usb-audio: purge needless variable length array"
    - ALSA: usb: Fix a typo in Tascam US-16x08 mixer element
    - mm/page_alloc.c: make sure OOM victim can try allocations with no watermarks
      once
    - mm: avoid spurious 'bad pmd' warning messages
    - dax: fix race between colliding PMD & PTE entries
    - mm/migrate: fix refcount handling when !hugepage_migration_supported()
    - mlock: fix mlock count can not decrease in race condition
    - mm/hugetlb: report -EHWPOISON not -EFAULT when FOLL_HWPOISON is specified
    - mm: consider memblock reservations for deferred memory initialization sizing
    - RDMA/srp: Fix NULL deref at srp_destroy_qp()
    - RDMA/qib,hfi1: Fix MR reference count leak on write with immediate
    - x86/boot: Use CROSS_COMPILE prefix for readelf
    - ksm: prevent crash after write_protect_page fails
    - slub/memcg: cure the brainless abuse of sysfs attributes
    - drm/gma500/psb: Actually use VBT mode when it is found
    - xfs: Fix missed holes in SEEK_HOLE implementation
    - xfs: use ->b_state to fix buffer I/O accounting release race
    - xfs: fix off-by-one on max nr_pages in xfs_find_get_desired_pgoff()
    - xfs: use dedicated log worker wq to avoid deadlock with cil wq
    - xfs: fix over-copying of getbmap parameters from userspace
    - xfs: actually report xattr extents via iomap
    - xfs: drop iolock from reclaim context to appease lockdep
    - xfs: fix integer truncation in xfs_bmap_remap_alloc
    - xfs: handle array index overrun in xfs_dir2_leaf_readbuf()
    - xfs: prevent multi-fsb dir readahead from reading random blocks
    - xfs: fix up quotacheck buffer list error handling
    - xfs: support ability to wait on new inodes
    - xfs: update ag iterator to support wait on new inodes
    - xfs: wait on new inodes during quotaoff dquot release
    - xfs: reserve enough blocks to handle btree splits when remapping
    - xfs: fix use-after-free in xfs_finish_page_writeback
    - xfs: fix indlen accounting error on partial delalloc conversion
    - xfs: BMAPX shouldn't barf on inline-format directories
    - xfs: bad assertion for delalloc an extent that start at i_size
    - xfs: xfs_trans_alloc_empty
    - xfs: avoid mount-time deadlock in CoW extent recovery
    - xfs: fix unaligned access in xfs_btree_visit_blocks
    - xfs: Fix off-by-in in loop termination in xfs_find_get_desired_pgoff()
    - Linux 4.11.4
  * orangefs kernel module not compiled for amd64, i386 (LP: #1696541)
    - [Config] CONFIG_ORANGEFS_FS=m
  * Dell Inspiron on kernel 4.10 : battery detected only after AC power adapter
    event (LP: #1678590)
    - ACPI / blacklist: add _REV quirk for Dell Inspiron 7537
  * APST quirk needed for Intel NVMe (LP: #1686592)
    - nvme: Quirk APST on Intel 600P/P3100 devices
  * iptables/ip6tables regressions in deleting rules (LP: #1691752)
    - netfilter: xtables: zero padding in data_to_user
    - netfilter: xtables: fix build failure from COMPAT_XT_ALIGN outside
      CONFIG_COMPAT
  * System doesn't boot properly on Gigabyte AM4 motherboards (AMD Ryzen)
    (LP: #1671360)
    - pinctrl: amd: make use of raw_spinlock variants
    - pinctrl/amd: Use regular interrupt instead of chained
  * Marvell MacchiatoBin crashes in fintek_8250_probe() (LP: #1692548)
    - drivers/tty: 8250: only call fintek_8250_probe when doing port I/O
  * extend-diff-ignore should use exact matches (LP: #1693504)
    - [Packaging] exact extend-diff-ignore matches
  * ATS fix: Fix opal_npu_destroy_context call (LP: #1692580)
    - powerpc/powernv/npu-dma.c: Fix opal_npu_destroy_context() call
  * Keyboard backlight control does not work on some dell laptops.
    (LP: #1693126)
    - platform/x86: dell-laptop: Add keyboard backlight timeout AC settings
  * Miscellaneous Ubuntu changes
    - SAUCE: efi: Don't print secure boot state from the efi stub
    - ubuntu: vbox -- Update to 5.1.22-dfsg-1
    - SAUCE: (noup) Update spl to 0.6.5.9-1ubuntu2, zfs to 0.6.5.9-5ubuntu7

 -- Seth Forshee <seth.forshee@canonical.com>  Wed, 14 Jun 2017 09:13:02 -0500

linux-raspi2 (4.11.0-1000.0) artful; urgency=low

  * Dummy Entry

 -- Seth Forshee <seth.forshee@canonical.com>  Wed, 24 May 2017 11:51:37 -0500

linux (4.11.0-4.9) artful; urgency=low

  [ Seth Forshee ]

  * Release Tracking Bug
    - LP: #1693229

  * arm64: mbigen updates (LP: #1692783)
    - Revert "UBUNTU: SAUCE: irqchip: mbigen: Add ACPI support"
    - irqchip/mbigen: Add ACPI support
    - irqchip/mbigen: Fix return value check in mbigen_device_probe()
    - irqchip/mbigen: Fix memory mapping code
    - irqchip/mbigen: Fix potential NULL dereferencing
    - irqchip/mbigen: Fix the clear register offset calculation

  * Ubuntu16.04.03: POWER9 XIVE: msgsnd/doorbell IPI support (backport)
    (LP: #1691973)
    - powerpc/64s: Add msgp facility unavailable log string
    - powerpc/64s: Add SCV FSCR bit for ISA v3.0
    - powerpc/xive: Native exploitation of the XIVE interrupt controller
    - powerpc: Change the doorbell IPI calling convention
    - powerpc: Introduce msgsnd/doorbell barrier primitives
    - powerpc/64s: Avoid a branch for ppc_msgsnd
    - powerpc/powernv: POWER9 support for msgsnd/doorbell IPI
    - powerpc/powernv: Add XIVE related definitions to opal-api.h
    - powerpc: Add more PPC bit conversion macros
    - powerpc: Add optional smp_ops->prepare_cpu SMP callback
    - powerpc/smp: Remove migrate_irq() custom implementation
    - powerpc/powernv: Fix oops on P9 DD1 in cause_ipi()

  * Hardware transaction memory corruption (LP: #1691477)
    - powerpc/tm: Fix FP and VMX register corruption

  * Offlined CPUs of a core fail to come up online on POWER9 DD1 (Ubuntu 17.04)
    (LP: #1685792)
    - powerpc/powernv: Move CPU-Offline idle state invocation from smp.c to idle.c
    - powerpc/powernv/smp: Add busy-wait loop as fall back for CPU-Hotplug
    - powerpc/powernv/idle: Don't override default/deepest directly in kernel

  * Merlin SGMII fail on Ubuntu Xenial HWE kernel (LP: #1686305)
    - drivers: net: phy: xgene: Fix mdio write

  * powerpc/powernv: Introduce address translation services for Nvlink2
    (LP: #1690412)
    - powerpc/powernv: Require MMU_NOTIFIER to fix NPU build
    - drivers/of/base.c: Add of_property_read_u64_index
    - powerpc/powernv: Add sanity checks to pnv_pci_get_{gpu|npu}_dev
    - powerpc/powernv: Introduce address translation services for Nvlink2

  * arm64/ACPI support for SBSA watchdog (LP: #1688114)
    - clocksource: arm_arch_timer: clean up printk usage
    - clocksource: arm_arch_timer: rename type macros
    - clocksource: arm_arch_timer: rename the PPI enum
    - clocksource: arm_arch_timer: move enums and defines to header file
    - clocksource: arm_arch_timer: add a new enum for spi type
    - clocksource: arm_arch_timer: rework PPI selection
    - clocksource: arm_arch_timer: split dt-only rate handling
    - clocksource: arm_arch_timer: refactor arch_timer_needs_probing
    - clocksource: arm_arch_timer: move arch_timer_needs_of_probing into DT init
      call
    - clocksource: arm_arch_timer: add structs to describe MMIO timer
    - clocksource: arm_arch_timer: split MMIO timer probing.
    - [Config] CONFIG_ACPI_GTDT=y
    - acpi/arm64: Add GTDT table parse driver
    - clocksource: arm_arch_timer: simplify ACPI support code.
    - acpi/arm64: Add memory-mapped timer support in GTDT driver
    - clocksource: arm_arch_timer: add GTDT support for memory-mapped timer
    - acpi/arm64: Add SBSA Generic Watchdog support in GTDT driver

  * arm64: Add CNTFRQ_EL0 handler (LP: #1688164)
    - arm64: Add CNTFRQ_EL0 trap handler

  * Support IPMI system interface on Cavium ThunderX (LP: #1688132)
    - i2c: thunderx: Enable HWMON class probing

  * Support low-pin-count devices on Hisilicon SoCs (LP: #1677319)
    - [Config] CONFIG_LIBIO=y on arm64 only
    - SAUCE: LIBIO: Introduce a generic PIO mapping method
    - SAUCE: OF: Add missing I/O range exception for indirect-IO devices
    - [Config] CONFIG_HISILICON_LPC=y
    - SAUCE: LPC: Support the device-tree LPC host on Hip06/Hip07
    - SAUCE: LIBIO: Support the dynamically logical PIO registration of ACPI host
      I/O
    - SAUCE: LPC: Add the ACPI LPC support
    - SAUCE: PCI: Apply the new generic I/O management on PCI IO hosts
    - SAUCE: PCI: Restore codepath for !CONFIG_LIBIO

  * POWER9: CAPI2 enablement (LP: #1686519)
    - cxl: Read vsec perst load image
    - cxl: Remove unused values in bare-metal environment.
    - cxl: Keep track of mm struct associated with a context
    - cxl: Update implementation service layer
    - cxl: Rename some psl8 specific functions
    - cxl: Isolate few psl8 specific calls
    - cxl: Add psl9 specific code

  * POWER9: Additional patches for TTY and CPU_IDLE (LP: #1674325)
    - SAUCE: tty: Fix ldisc crash on reopened tty

  * Artful update to 4.11.2 stable release (LP: #1692332)
    - xen: adjust early dom0 p2m handling to xen hypervisor behavior
    - target: Fix compare_and_write_callback handling for non GOOD status
    - target/fileio: Fix zero-length READ and WRITE handling
    - iscsi-target: Set session_fall_back_to_erl0 when forcing reinstatement
    - usb: xhci: bInterval quirk for TI TUSB73x0
    - usb: host: xhci: print correct command ring address
    - USB: serial: ftdi_sio: add device ID for Microsemi/Arrow SF2PLUS Dev Kit
    - USB: Proper handling of Race Condition when two USB class drivers try to
      call init_usb_class simultaneously
    - USB: Revert "cdc-wdm: fix "out-of-sync" due to missing notifications"
    - staging: vt6656: use off stack for in buffer USB transfers.
    - staging: vt6656: use off stack for out buffer USB transfers.
    - staging: gdm724x: gdm_mux: fix use-after-free on module unload
    - staging: wilc1000: Fix problem with wrong vif index
    - staging: sir: fill in missing fields and fix probe
    - staging: comedi: jr3_pci: fix possible null pointer dereference
    - staging: comedi: jr3_pci: cope with jiffies wraparound
    - usb: misc: add missing continue in switch
    - usb: gadget: legacy gadgets are optional
    - usb: Make sure usb/phy/of gets built-in
    - usb: hub: Fix error loop seen after hub communication errors
    - usb: hub: Do not attempt to autosuspend disconnected devices
    - x86/boot: Fix BSS corruption/overwrite bug in early x86 kernel startup
    - selftests/x86/ldt_gdt_32: Work around a glibc sigaction() bug
    - x86, pmem: Fix cache flushing for iovec write < 8 bytes
    - um: Fix PTRACE_POKEUSER on x86_64
    - perf/x86: Fix Broadwell-EP DRAM RAPL events
    - KVM: x86: fix user triggerable warning in kvm_apic_accept_events()
    - Revert "KVM: Support vCPU-based gfn->hva cache"
    - KVM: arm/arm64: fix races in kvm_psci_vcpu_on
    - arm64: KVM: Fix decoding of Rt/Rt2 when trapping AArch32 CP accesses
    - block: fix blk_integrity_register to use template's interval_exp if not 0
    - crypto: s5p-sss - Close possible race for completed requests
    - crypto: algif_aead - Require setkey before accept(2)
    - crypto: ccp - Use only the relevant interrupt bits
    - crypto: ccp - Disable interrupts early on unload
    - crypto: ccp - Change ISR handler method for a v3 CCP
    - crypto: ccp - Change ISR handler method for a v5 CCP
    - dm crypt: rewrite (wipe) key in crypto layer using random data
    - dm era: save spacemap metadata root after the pre-commit
    - dm rq: check blk_mq_register_dev() return value in
      dm_mq_init_request_queue()
    - dm thin: fix a memory leak when passing discard bio down
    - vfio/type1: Remove locked page accounting workqueue
    - iov_iter: don't revert iov buffer if csum error
    - IB/core: Fix sysfs registration error flow
    - IB/core: Fix kernel crash during fail to initialize device
    - IB/core: For multicast functions, verify that LIDs are multicast LIDs
    - IB/IPoIB: ibX: failed to create mcg debug file
    - IB/mlx4: Fix ib device initialization error flow
    - IB/mlx4: Reduce SRIOV multicast cleanup warning message to debug level
    - IB/hfi1: Prevent kernel QP post send hard lockups
    - perf auxtrace: Fix no_size logic in addr_filter__resolve_kernel_syms()
    - perf annotate s390: Fix perf annotate error -95 (4.10 regression)
    - perf annotate s390: Implement jump types for perf annotate
    - jbd2: fix dbench4 performance regression for 'nobarrier' mounts
    - ext4: evict inline data when writing to memory map
    - orangefs: fix bounds check for listxattr
    - orangefs: clean up oversize xattr validation
    - orangefs: do not set getattr_time on orangefs_lookup
    - orangefs: do not check possibly stale size on truncate
    - fs/xattr.c: zero out memory copied to userspace in getxattr
    - ceph: fix memory leak in __ceph_setxattr()
    - fs: fix data invalidation in the cleancache during direct IO
    - fs/block_dev: always invalidate cleancache in invalidate_bdev()
    - mm: vmscan: fix IO/refault regression in cache workingset transition
    - mm: prevent potential recursive reclaim due to clearing PF_MEMALLOC
    - Fix match_prepath()
    - Do not return number of bytes written for ioctl CIFS_IOC_COPYCHUNK_FILE
    - Set unicode flag on cifs echo request to avoid Mac error
    - SMB3: Work around mount failure when using SMB3 dialect to Macs
    - CIFS: fix mapping of SFM_SPACE and SFM_PERIOD
    - cifs: fix leak in FSCTL_ENUM_SNAPS response handling
    - cifs: fix CIFS_ENUMERATE_SNAPSHOTS oops
    - CIFS: fix oplock break deadlocks
    - cifs: fix CIFS_IOC_GET_MNT_INFO oops
    - CIFS: add misssing SFM mapping for doublequote
    - ovl: do not set overlay.opaque on non-dir create
    - padata: free correct variable
    - md/raid1: avoid reusing a resync bio after error handling.
    - device-dax: fix cdev leak
    - device-dax: fix sysfs attribute deadlock
    - dax: prevent invalidation of mapped DAX entries
    - mm: fix data corruption due to stale mmap reads
    - ext4: return to starting transaction in ext4_dax_huge_fault()
    - dax: fix PMD data corruption when fault races with write
    - f2fs: fix wrong max cost initialization
    - Revert "f2fs: put allocate_segment after refresh_sit_entry"
    - f2fs: fix fs corruption due to zero inode page
    - f2fs: fix multiple f2fs_add_link() having same name for inline dentry
    - f2fs: check entire encrypted bigname when finding a dentry
    - f2fs: Make flush bios explicitely sync
    - initramfs: Always do fput() and load modules after rootfs populate
    - initramfs: avoid "label at end of compound statement" error
    - fscrypt: fix context consistency check when key(s) unavailable
    - fscrypt: avoid collisions when presenting long encrypted filenames
    - serial: samsung: Use right device for DMA-mapping calls
    - serial: samsung: Add missing checks for dma_map_single failure
    - serial: omap: fix runtime-pm handling on unbind
    - serial: omap: suspend device on probe errors
    - tty: pty: Fix ldisc flush after userspace become aware of the data already
    - tty: pl011: use "qdf2400_e44" as the earlycon name for QDF2400 E44
    - Bluetooth: Fix user channel for 32bit userspace on 64bit kernel
    - Bluetooth: hci_bcm: add missing tty-device sanity check
    - Bluetooth: hci_intel: add missing tty-device sanity check
    - cgroup: fix spurious warnings on cgroup_is_dead() from cgroup_sk_alloc()
    - libata: reject passthrough WRITE SAME requests
    - ipmi: Fix kernel panic at ipmi_ssif_thread()
    - libnvdimm, region: fix flush hint detection crash
    - libnvdimm, pmem: fix a NULL pointer BUG in nd_pmem_notify
    - libnvdimm: fix nvdimm_bus_lock() vs device_lock() ordering
    - libnvdimm, pfn: fix 'npfns' vs section alignment
    - pstore: Fix flags to enable dumps on powerpc
    - pstore: Use dynamic spinlock initializer
    - pstore: Shut down worker when unregistering
    - Linux 4.11.2

  * please enable CONFIG_ARM64_LSE_ATOMICS (LP: #1691614)
    - [Config] CONFIG_ARM64_LSE_ATOMICS=y

  * iptables regression causing snapd ADT failure (LP: #1691752)
    - SAUCE: Revert "iptables: use match, target and data copy_to_user helpers"

  * [Regression] NUMA_BALANCING disabled on arm64 (LP: #1690914)
    - [Config] CONFIG_NUMA_BALANCING{,_DEFAULT_ENABLED}=y on arm64

  * exec'ing a setuid binary from a threaded program sometimes fails to setuid
    (LP: #1672819)
    - SAUCE: exec: ensure file system accounting in check_unsafe_exec is correct

  * CVE-2013-1060 (LP: #1206200)
    - [Debian] (no-squash) supply perf with appropriate prefix to ensure use of
      local config

  * Miscellaneous Ubuntu changes
    - [Debian] Work out upstream tag for use with gen-auto-reconstruct
    - [Debian] Add build-dep on libnuma-dev to enable 'perf bench numa'

  * Miscellaneous upstream changes
    - Revert "UBUNTU: [Debian] supply perf with appropriate prefix to ensure use
      of local config"

 -- Seth Forshee <seth.forshee@canonical.com>  Wed, 24 May 2017 08:57:22 -0500

linux (4.11.0-3.8) artful; urgency=low

  [ Seth Forshee ]

  * Release Tracking Bug
    - LP: #1690999

  * apparmor_parser hangs indefinitely when called by multiple threads
    (LP: #1645037)
    - SAUCE: apparmor: fix lock ordering for mkdir

  * apparmor leaking securityfs pin count (LP: #1660846)
    - SAUCE: apparmor: fix leak on securityfs pin count

  * apparmor reference count leak when securityfs_setup_d_inode\ () fails
    (LP: #1660845)
    - SAUCE: apparmor: fix reference count leak when securityfs_setup_d_inode()
      fails

  * apparmor not checking error if security_pin_fs() fails (LP: #1660842)
    - SAUCE: apparmor: fix not handling error case when securityfs_pin_fs() fails

  * libvirt profile is blocking global setrlimit despite having no rlimit rule
    (LP: #1679704)
    - SAUCE: apparmor: fix complain mode failure for rlimit mediation
    - apparmor: update auditing of rlimit check to provide capability information

  * apparmor: does not provide a way to detect policy updataes (LP: #1678032)
    - SAUCE: apparmor: add policy revision file interface

  * apparmor does not make support of query data visible (LP: #1678023)
    - SAUCE: apparmor: add label data availability to the feature set

  * apparmor query interface does not make supported query info available
    (LP: #1678030)
    - SAUCE: apparmor: add information about the query inteface to the feature set

  * change_profile incorrect when using namespaces with a compound stack
    (LP: #1677959)
    - SAUCE: apparmor: fix label parse for stacked labels

  * Regression in 4.4.0-65-generic causes very frequent system crashes
    (LP: #1669611)
    - apparmor: sync of apparmor 3.6+ (17.04)

  * Artful update to 4.11.1 stable release (LP: #1690814)
    - dm ioctl: prevent stack leak in dm ioctl call
    - drm/sti: fix GDP size to support up to UHD resolution
    - power: supply: lp8788: prevent out of bounds array access
    - brcmfmac: Ensure pointer correctly set if skb data location changes
    - brcmfmac: Make skb header writable before use
    - sparc64: fix fault handling in NGbzero.S and GENbzero.S
    - refcount: change EXPORT_SYMBOL markings
    - net: macb: fix phy interrupt parsing
    - tcp: fix access to sk->sk_state in tcp_poll()
    - geneve: fix incorrect setting of UDP checksum flag
    - bpf: enhance verifier to understand stack pointer arithmetic
    - bpf, arm64: fix jit branch offset related to ldimm64
    - tcp: fix wraparound issue in tcp_lp
    - net: ipv6: Do not duplicate DAD on link up
    - net: usb: qmi_wwan: add Telit ME910 support
    - tcp: do not inherit fastopen_req from parent
    - ipv4, ipv6: ensure raw socket message is big enough to hold an IP header
    - rtnetlink: NUL-terminate IFLA_PHYS_PORT_NAME string
    - ipv6: initialize route null entry in addrconf_init()
    - ipv6: reorder ip6_route_dev_notifier after ipv6_dev_notf
    - tcp: randomize timestamps on syncookies
    - bnxt_en: allocate enough space for ->ntp_fltr_bmap
    - bpf: don't let ldimm64 leak map addresses on unprivileged
    - net: mdio-mux: bcm-iproc: call mdiobus_free() in error path
    - f2fs: sanity check segment count
    - xen/arm,arm64: fix xen_dma_ops after 815dd18 "Consolidate get_dma_ops..."
    - xen: Revert commits da72ff5bfcb0 and 72a9b186292d
    - block: get rid of blk_integrity_revalidate()
    - Linux 4.11.1

  * Module signing exclusion for staging drivers does not work properly
    (LP: #1690908)
    - SAUCE: Fix module signing exclusion in package builds

  * perf: qcom: Add L3 cache PMU driver (LP: #1689856)
    - [Config] CONFIG_QCOM_L3_PMU=y
    - perf: qcom: Add L3 cache PMU driver

  * No PMU support for ACPI-based arm64 systems (LP: #1689661)
    - drivers/perf: arm_pmu: rework per-cpu allocation
    - drivers/perf: arm_pmu: manage interrupts per-cpu
    - drivers/perf: arm_pmu: split irq request from enable
    - drivers/perf: arm_pmu: remove pointless PMU disabling
    - drivers/perf: arm_pmu: define armpmu_init_fn
    - drivers/perf: arm_pmu: fold init into alloc
    - drivers/perf: arm_pmu: factor out pmu registration
    - drivers/perf: arm_pmu: simplify cpu_pmu_request_irqs()
    - drivers/perf: arm_pmu: handle no platform_device
    - drivers/perf: arm_pmu: rename irq request/free functions
    - drivers/perf: arm_pmu: split cpu-local irq request/free
    - drivers/perf: arm_pmu: move irq request/free into probe
    - drivers/perf: arm_pmu: split out platform device probe logic
    - arm64: add function to get a cpu's MADT GICC table
    - [Config] CONFIG_ARM_PMU_ACPI=y
    - drivers/perf: arm_pmu: add ACPI framework
    - arm64: pmuv3: handle !PMUv3 when probing
    - arm64: pmuv3: use arm_pmu ACPI framework

  * Fix NVLINK2 TCE route (LP: #1690155)
    - powerpc/powernv: Fix TCE kill on NVLink2

  * CVE-2017-0605
    - tracing: Use strlcpy() instead of strcpy() in __trace_find_cmdline()

  * Miscellaneous Ubuntu changes
    - [Config] Restore powerpc arch to annotations file
    - [Config] Disable runtime testing modules
    - [Config] Disable drivers not needed on s390x
    - [Config] Update annotations for 4.11
    - [Config] updateconfigs after apparmor updates

  * Miscellaneous upstream changes
    - apparmor: use SHASH_DESC_ON_STACK
    - apparmor: fix invalid reference to index variable of iterator line 836
    - apparmor: fix parameters so that the permission test is bypassed at boot
    - apparmor: Make path_max parameter readonly
    - apparmorfs: Combine two function calls into one in aa_fs_seq_raw_abi_show()
    - apparmorfs: Use seq_putc() in two functions
    - apparmor: provide information about path buffer size at boot
    - apparmor: add/use fns to print hash string hex value

 -- Seth Forshee <seth.forshee@canonical.com>  Tue, 16 May 2017 00:39:13 -0500

linux (4.11.0-2.7) artful; urgency=low

  * kernel-wedge fails in artful due to leftover squashfs-modules d-i files
    (LP: #1688259)
    - Remove squashfs-modules files from d-i
    - [Config] as squashfs-modules is builtin kernel-image must Provides: it

  * [Zesty] d-i: replace msm_emac with qcom_emac (LP: #1677297)
    - Revert "UBUNTU: d-i: initrd needs msm_emac on amberwing platform."
    - d-i: initrd needs qcom_emac on amberwing platform.

  * update for V3 kernel bits and improved multiple fan slice support
    (LP: #1470091)
    - SAUCE: fan: tunnel multiple mapping mode (v3)

  * Miscellaneous Ubuntu changes
    - SAUCE: (noup) Update spl to 0.6.5.9-1ubuntu1, zfs to 0.6.5.9-5ubuntu5
    - Enable zfs
    - SAUCE: fan: add VXLAN implementation
    - SAUCE: (efi-lockdown) efi: Add EFI_SECURE_BOOT bit
    - SAUCE: (efi-lockdown) Add the ability to lock down access to the running
      kernel image
    - SAUCE: (efi-lockdown) efi: Lock down the kernel if booted in secure boot
      mode
    - SAUCE: (efi-lockdown) Enforce module signatures if the kernel is locked down
    - SAUCE: (efi-lockdown) Restrict /dev/mem and /dev/kmem when the kernel is
      locked down
    - SAUCE: (efi-lockdown) Add a sysrq option to exit secure boot mode
    - SAUCE: (efi-lockdown) kexec: Disable at runtime if the kernel is locked down
    - SAUCE: (efi-lockdown) Copy secure_boot flag in boot params across kexec
      reboot
    - SAUCE: (efi-lockdown) kexec_file: Disable at runtime if securelevel has been
      set
    - SAUCE: (efi-lockdown) hibernate: Disable when the kernel is locked down
    - SAUCE: (efi-lockdown) uswsusp: Disable when the kernel is locked down
    - SAUCE: (efi-lockdown) PCI: Lock down BAR access when the kernel is locked
      down
    - SAUCE: (efi-lockdown) x86: Lock down IO port access when the kernel is
      locked down
    - SAUCE: (efi-lockdown) x86: Restrict MSR access when the kernel is locked
      down
    - SAUCE: (efi-lockdown) asus-wmi: Restrict debugfs interface when the kernel
      is locked down
    - SAUCE: (efi-lockdown) ACPI: Limit access to custom_method when the kernel is
      locked down
    - SAUCE: (efi-lockdown) acpi: Ignore acpi_rsdp kernel param when the kernel
      has been locked down
    - SAUCE: (efi-lockdown) acpi: Disable ACPI table override if the kernel is
      locked down
    - SAUCE: (efi-lockdown) acpi: Disable APEI error injection if the kernel is
      locked down
    - SAUCE: (efi-lockdown) Enable cold boot attack mitigation
    - SAUCE: (efi-lockdown) bpf: Restrict kernel image access functions when the
      kernel is locked down
    - SAUCE: (efi-lockdown) scsi: Lock down the eata driver
    - SAUCE: (efi-lockdown) Prohibit PCMCIA CIS storage when the kernel is locked
      down
    - SAUCE: (efi-lockdown) Lock down TIOCSSERIAL
    - SAUCE: (efi-lockdown) Add EFI signature data types
    - SAUCE: (efi-lockdown) Add an EFI signature blob parser and key loader.
    - SAUCE: (efi-lockdown) KEYS: Add a system blacklist keyring
    - SAUCE: (efi-lockdown) MODSIGN: Import certificates from UEFI Secure Boot
    - SAUCE: (efi-lockdown) MODSIGN: Support not importing certs from db
    - SAUCE: (efi-lockdown) MODSIGN: Don't try secure boot if EFI runtime is
      disabled
    - SAUCE: (efi-lockdown) efi: Sanitize boot_params in efi stub
    - SAUCE: (efi-lockdown) efi: Add secure_boot state and status bit for
      MokSBState
    - SAUCE: (efi-lockdown) efi: Add sysctls for secureboot and MokSBState
    - [Config] Set values for UEFI secure boot lockdown options
    - Update dropped.txt

  [ Upstream Kernel Changes ]

  * rebase to v4.11

 -- Seth Forshee <seth.forshee@canonical.com>  Fri, 05 May 2017 07:43:14 -0500

linux (4.11.0-1.6) artful; urgency=low

  * Miscellaneous Ubuntu changes
    - [Debian] Use default compression for all packages
    - SAUCE: (namespace) block_dev: Support checking inode permissions in
      lookup_bdev()
    - SAUCE: (namespace) block_dev: Check permissions towards block device inode
      when mounting
    - SAUCE: (namespace) mtd: Check permissions towards mtd block device inode
      when mounting
    - SAUCE: (namespace) fs: Allow superblock owner to change ownership of inodes
    - SAUCE: (namespace) fs: Don't remove suid for CAP_FSETID for userns root
    - SAUCE: (namespace) fs: Allow superblock owner to access do_remount_sb()
    - SAUCE: (namespace) capabilities: Allow privileged user in s_user_ns to set
      security.* xattrs
    - SAUCE: (namespace) fs: Allow CAP_SYS_ADMIN in s_user_ns to freeze and thaw
      filesystems
    - SAUCE: (namespace) fuse: Add support for pid namespaces
    - SAUCE: (namespace) fuse: Support fuse filesystems outside of init_user_ns
    - SAUCE: (namespace) fuse: Restrict allow_other to the superblock's namespace
      or a descendant
    - SAUCE: (namespace) fuse: Allow user namespace mounts
    - SAUCE: (namespace) ext4: Add support for unprivileged mounts from user
      namespaces
    - SAUCE: (namespace) evm: Don't update hmacs in user ns mounts
    - SAUCE: (namespace) ext4: Add module parameter to enable user namespace
      mounts
    - SAUCE: (namespace) block_dev: Forbid unprivileged mounting when device is
      opened for writing

 -- Seth Forshee <seth.forshee@canonical.com>  Wed, 26 Apr 2017 10:08:29 -0500

linux (4.11.0-0.5) artful; urgency=low

  * [Hyper-V][SAUCE] pci-hyperv: Use only 16 bit integer for PCI domain
    (LP: #1684971)
    - SAUCE: pci-hyperv: Use only 16 bit integer for PCI domain

  * [Hyper-V] Ubuntu 14.04.2 LTS Generation 2 SCSI Errors on VSS Based Backups
    (LP: #1470250)
    - SAUCE: Tools: hv: vss: Thaw the filesystem and continue after freeze fails

  * Enable virtual scsi server driver for Power (LP: #1615665)
    - SAUCE: Return TCMU-generated sense data to fabric module

  * include/linux/security.h header syntax error with !CONFIG_SECURITYFS
    (LP: #1630990)
    - SAUCE: (no-up) include/linux/security.h -- fix syntax error with
      CONFIG_SECURITYFS=n

  * Miscellaneous Ubuntu changes
    - SAUCE: Import aufs driver
    - [Config] Enable aufs
    - [Debian] Add script to update virtualbox
    - ubuntu: vbox -- Update to 5.1.20-dfsg-2
    - Enable vbox
    - SAUCE: aufs -- Include linux/mm.h in fs/aufs/file.h

  [ Upstream Kernel Changes ]

  * rebase to v4.11-rc8

 -- Seth Forshee <seth.forshee@canonical.com>  Tue, 25 Apr 2017 13:42:54 -0500

linux (4.11.0-0.4) zesty; urgency=low

  * POWER9: Improve performance on memory management (LP: #1681429)
    - SAUCE: powerpc/mm/radix: Don't do page walk cache flush when doing full mm
      flush
    - SAUCE: powerpc/mm/radix: Remove unnecessary ptesync

  * Miscellaneous Ubuntu changes
    - find-missing-sauce.sh

  [ Upstream Kernel Changes ]

  * rebase to v4.11-rc7

 -- Seth Forshee <seth.forshee@canonical.com>  Tue, 18 Apr 2017 08:19:43 -0500

linux (4.11.0-0.3) zesty; urgency=low

  * Disable CONFIG_HVC_UDBG on ppc64el (LP: #1680888)
    - [Config] Disable CONFIG_HVC_UDBG on ppc64el

  * smartpqi driver needed in initram disk and installer (LP: #1680156)
    - [Config] Add smartpqi to d-i

  * Disable CONFIG_SECURITY_SELINUX_DISABLE (LP: #1680315)
    - [Config] CONFIG_SECURITY_SELINUX_DISABLE=n

  * Miscellaneous Ubuntu changes
    - [Config] flash-kernel should be a Breaks
    - [Config] drop the info directory
    - [Config] drop NOTES as obsolete
    - [Config] drop changelog.historical as obsolete
    - rebase to v4.11-rc6

  [ Upstream Kernel Changes ]

  * rebase to v4.11-rc6

 -- Tim Gardner <tim.gardner@canonical.com>  Tue, 11 Apr 2017 07:16:52 -0600

linux (4.11.0-0.2) zesty; urgency=low

  [ Upstream Kernel Changes ]

  * rebase to v4.11-rc5

 -- Tim Gardner <tim.gardner@canonical.com>  Mon, 03 Apr 2017 08:26:07 +0100

linux (4.11.0-0.1) zesty; urgency=low

  [ Upstream Kernel Changes ]

  * rebase to v4.11-rc4
    - LP: #1591053

 -- Tim Gardner <tim.gardner@canonical.com>  Mon, 20 Mar 2017 05:15:32 -0600

linux (4.11.0-0.0) zesty; urgency=low

  * dummy entry

 -- Tim Gardner <tim.gardner@canonical.com>  Mon, 20 Mar 2017 05:15:32 -0600
